!function(){var e={356:function(){"use strict";window.zb=window.parent.zb}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"}();var o={};n.p=window.zionBuilderPaths[{}.appName],function(){"use strict";n.r(o),n(356);var e=window.zb.vue,t={name:"ElementStyles",props:{styles:{type:String}},setup:t=>()=>t.styles?(0,e.h)("style",t.styles):null},r=zb.utils,i=zb.hooks,l=function(e,t){return e===t||e!=e&&t!=t},a=function(e,t){for(var n=e.length;n--;)if(l(e[n][0],t))return n;return-1},s=Array.prototype.splice;function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=function(){this.__data__=[],this.size=0},c.prototype.delete=function(e){var t=this.__data__,n=a(t,e);return!(n<0||(n==t.length-1?t.pop():s.call(t,n,1),--this.size,0))},c.prototype.get=function(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]},c.prototype.has=function(e){return a(this.__data__,e)>-1},c.prototype.set=function(e,t){var n=this.__data__,o=a(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};var u,d=c,p="object"==typeof global&&global&&global.Object===Object&&global,m="object"==typeof self&&self&&self.Object===Object&&self,f=p||m||Function("return this")(),h=f.Symbol,g=Object.prototype,v=g.hasOwnProperty,b=g.toString,y=h?h.toStringTag:void 0,w=Object.prototype.toString,_=h?h.toStringTag:void 0,C=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?function(e){var t=v.call(e,y),n=e[y];try{e[y]=void 0;var o=!0}catch(e){}var r=b.call(e);return o&&(t?e[y]=n:delete e[y]),r}(e):function(e){return w.call(e)}(e)},S=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},k=function(e){if(!S(e))return!1;var t=C(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},x=f["__core-js_shared__"],E=(u=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",V=Function.prototype.toString,j=function(e){if(null!=e){try{return V.call(e)}catch(e){}try{return e+""}catch(e){}}return""},z=/^\[object .+?Constructor\]$/,B=Function.prototype,T=Object.prototype,O=B.toString,D=T.hasOwnProperty,P=RegExp("^"+O.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=function(e){return!(!S(e)||(t=e,E&&E in t))&&(k(e)?P:z).test(j(e));var t},N=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return A(n)?n:void 0},M=N(f,"Map"),$=N(Object,"create"),R=Object.prototype.hasOwnProperty,I=Object.prototype.hasOwnProperty;function L(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}L.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},L.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},L.prototype.get=function(e){var t=this.__data__;if($){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return R.call(t,e)?t[e]:void 0},L.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:I.call(t,e)},L.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$&&void 0===t?"__lodash_hash_undefined__":t,this};var U=L,F=function(e,t){var n,o,r=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map};function H(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}H.prototype.clear=function(){this.size=0,this.__data__={hash:new U,map:new(M||d),string:new U}},H.prototype.delete=function(e){var t=F(this,e).delete(e);return this.size-=t?1:0,t},H.prototype.get=function(e){return F(this,e).get(e)},H.prototype.has=function(e){return F(this,e).has(e)},H.prototype.set=function(e,t){var n=F(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this};var q=H;function W(e){var t=this.__data__=new d(e);this.size=t.size}W.prototype.clear=function(){this.__data__=new d,this.size=0},W.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},W.prototype.get=function(e){return this.__data__.get(e)},W.prototype.has=function(e){return this.__data__.has(e)},W.prototype.set=function(e,t){var n=this.__data__;if(n instanceof d){var o=n.__data__;if(!M||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new q(o)}return n.set(e,t),this.size=n.size,this};var Y=W,X=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e},Z=function(){try{var e=N(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),K=function(e,t,n){"__proto__"==t&&Z?Z(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},J=Object.prototype.hasOwnProperty,G=function(e,t,n){var o=e[t];J.call(e,t)&&l(o,n)&&(void 0!==n||t in e)||K(e,t,n)},Q=function(e,t,n,o){var r=!n;n||(n={});for(var i=-1,l=t.length;++i<l;){var a=t[i],s=o?o(n[a],e[a],a,n,e):void 0;void 0===s&&(s=e[a]),r?K(n,a,s):G(n,a,s)}return n},ee=function(e){return null!=e&&"object"==typeof e},te=function(e){return ee(e)&&"[object Arguments]"==C(e)},ne=Object.prototype,oe=ne.hasOwnProperty,re=ne.propertyIsEnumerable,ie=te(function(){return arguments}())?te:function(e){return ee(e)&&oe.call(e,"callee")&&!re.call(e,"callee")},le=Array.isArray,ae="object"==typeof exports&&exports&&!exports.nodeType&&exports,se=ae&&"object"==typeof module&&module&&!module.nodeType&&module,ce=se&&se.exports===ae?f.Buffer:void 0,ue=(ce?ce.isBuffer:void 0)||function(){return!1},de=/^(?:0|[1-9]\d*)$/,pe=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&de.test(e))&&e>-1&&e%1==0&&e<t},me=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},fe={};fe["[object Float32Array]"]=fe["[object Float64Array]"]=fe["[object Int8Array]"]=fe["[object Int16Array]"]=fe["[object Int32Array]"]=fe["[object Uint8Array]"]=fe["[object Uint8ClampedArray]"]=fe["[object Uint16Array]"]=fe["[object Uint32Array]"]=!0,fe["[object Arguments]"]=fe["[object Array]"]=fe["[object ArrayBuffer]"]=fe["[object Boolean]"]=fe["[object DataView]"]=fe["[object Date]"]=fe["[object Error]"]=fe["[object Function]"]=fe["[object Map]"]=fe["[object Number]"]=fe["[object Object]"]=fe["[object RegExp]"]=fe["[object Set]"]=fe["[object String]"]=fe["[object WeakMap]"]=!1;var he=function(e){return function(t){return e(t)}},ge="object"==typeof exports&&exports&&!exports.nodeType&&exports,ve=ge&&"object"==typeof module&&module&&!module.nodeType&&module,be=ve&&ve.exports===ge&&p.process,ye=function(){try{return ve&&ve.require&&ve.require("util").types||be&&be.binding&&be.binding("util")}catch(e){}}(),we=ye&&ye.isTypedArray,_e=we?he(we):function(e){return ee(e)&&me(e.length)&&!!fe[C(e)]},Ce=Object.prototype.hasOwnProperty,Se=function(e,t){var n=le(e),o=!n&&ie(e),r=!n&&!o&&ue(e),i=!n&&!o&&!r&&_e(e),l=n||o||r||i,a=l?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],s=a.length;for(var c in e)!t&&!Ce.call(e,c)||l&&("length"==c||r&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||pe(c,s))||a.push(c);return a},ke=Object.prototype,xe=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)},Ee=function(e,t){return function(n){return e(t(n))}},Ve=Ee(Object.keys,Object),je=Object.prototype.hasOwnProperty,ze=function(e){return null!=e&&me(e.length)&&!k(e)},Be=function(e){return ze(e)?Se(e):function(e){if(!xe(e))return Ve(e);var t=[];for(var n in Object(e))je.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},Te=Object.prototype.hasOwnProperty,Oe=function(e){if(!S(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=xe(e),n=[];for(var o in e)("constructor"!=o||!t&&Te.call(e,o))&&n.push(o);return n},De=function(e){return ze(e)?Se(e,!0):Oe(e)},Pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ae=Pe&&"object"==typeof module&&module&&!module.nodeType&&module,Ne=Ae&&Ae.exports===Pe?f.Buffer:void 0,Me=Ne?Ne.allocUnsafe:void 0,$e=function(e,t){if(t)return e.slice();var n=e.length,o=Me?Me(n):new e.constructor(n);return e.copy(o),o},Re=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t},Ie=function(){return[]},Le=Object.prototype.propertyIsEnumerable,Ue=Object.getOwnPropertySymbols,Fe=Ue?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var l=e[n];t(l,n,e)&&(i[r++]=l)}return i}(Ue(e),(function(t){return Le.call(e,t)})))}:Ie,He=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e},qe=Ee(Object.getPrototypeOf,Object),We=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)He(t,Fe(e)),e=qe(e);return t}:Ie,Ye=function(e,t,n){var o=t(e);return le(e)?o:He(o,n(e))},Xe=function(e){return Ye(e,Be,Fe)},Ze=function(e){return Ye(e,De,We)},Ke=N(f,"DataView"),Je=N(f,"Promise"),Ge=N(f,"Set"),Qe=N(f,"WeakMap"),et="[object Map]",tt="[object Promise]",nt="[object Set]",ot="[object WeakMap]",rt="[object DataView]",it=j(Ke),lt=j(M),at=j(Je),st=j(Ge),ct=j(Qe),ut=C;(Ke&&ut(new Ke(new ArrayBuffer(1)))!=rt||M&&ut(new M)!=et||Je&&ut(Je.resolve())!=tt||Ge&&ut(new Ge)!=nt||Qe&&ut(new Qe)!=ot)&&(ut=function(e){var t=C(e),n="[object Object]"==t?e.constructor:void 0,o=n?j(n):"";if(o)switch(o){case it:return rt;case lt:return et;case at:return tt;case st:return nt;case ct:return ot}return t});var dt=ut,pt=Object.prototype.hasOwnProperty,mt=f.Uint8Array,ft=function(e){var t=new e.constructor(e.byteLength);return new mt(t).set(new mt(e)),t},ht=/\w*$/,gt=h?h.prototype:void 0,vt=gt?gt.valueOf:void 0,bt=function(e,t){var n=t?ft(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},yt=function(e,t,n){var o,r,i,l=e.constructor;switch(t){case"[object ArrayBuffer]":return ft(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return function(e,t){var n=t?ft(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return bt(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return(i=new(r=e).constructor(r.source,ht.exec(r))).lastIndex=r.lastIndex,i;case"[object Set]":return new l;case"[object Symbol]":return o=e,vt?Object(vt.call(o)):{}}},wt=Object.create,_t=function(){function e(){}return function(t){if(!S(t))return{};if(wt)return wt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ct=function(e){return"function"!=typeof e.constructor||xe(e)?{}:_t(qe(e))},St=ye&&ye.isMap,kt=St?he(St):function(e){return ee(e)&&"[object Map]"==dt(e)},xt=ye&&ye.isSet,Et=xt?he(xt):function(e){return ee(e)&&"[object Set]"==dt(e)},Vt="[object Arguments]",jt="[object Function]",zt={};zt[Vt]=zt["[object Array]"]=zt["[object ArrayBuffer]"]=zt["[object DataView]"]=zt["[object Boolean]"]=zt["[object Date]"]=zt["[object Float32Array]"]=zt["[object Float64Array]"]=zt["[object Int8Array]"]=zt["[object Int16Array]"]=zt["[object Int32Array]"]=zt["[object Map]"]=zt["[object Number]"]=zt["[object Object]"]=zt["[object RegExp]"]=zt["[object Set]"]=zt["[object String]"]=zt["[object Symbol]"]=zt["[object Uint8Array]"]=zt["[object Uint8ClampedArray]"]=zt["[object Uint16Array]"]=zt["[object Uint32Array]"]=!0,zt["[object Error]"]=zt[jt]=zt["[object WeakMap]"]=!1;var Bt=function e(t,n,o,r,i,l){var a,s=1&n,c=2&n,u=4&n;if(o&&(a=i?o(t,r,i,l):o(t)),void 0!==a)return a;if(!S(t))return t;var d=le(t);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&pt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!s)return Re(t,a)}else{var p=dt(t),m=p==jt||"[object GeneratorFunction]"==p;if(ue(t))return $e(t,s);if("[object Object]"==p||p==Vt||m&&!i){if(a=c||m?{}:Ct(t),!s)return c?function(e,t){return Q(e,We(e),t)}(t,function(e,t){return e&&Q(t,De(t),e)}(a,t)):function(e,t){return Q(e,Fe(e),t)}(t,function(e,t){return e&&Q(t,Be(t),e)}(a,t))}else{if(!zt[p])return i?t:{};a=yt(t,p,s)}}l||(l=new Y);var f=l.get(t);if(f)return f;l.set(t,a),Et(t)?t.forEach((function(r){a.add(e(r,n,o,r,t,l))})):kt(t)&&t.forEach((function(r,i){a.set(i,e(r,n,o,i,t,l))}));var h=d?void 0:(u?c?Ze:Xe:c?De:Be)(t);return X(h||t,(function(r,i){h&&(r=t[i=r]),G(a,i,e(r,n,o,i,t,l))})),a},Tt=function(e,t,n){for(var o=-1,r=Object(e),i=n(e),l=i.length;l--;){var a=i[++o];if(!1===t(r[a],a,r))break}return e},Ot=function(e,t){if(null==e)return e;if(!ze(e))return function(e,t){return e&&Tt(e,t,Be)}(e,t);for(var n=e.length,o=-1,r=Object(e);++o<n&&!1!==t(r[o],o,r););return e},Dt=function(e){return e},Pt=function(e,t){return(le(e)?X:Ot)(e,"function"==typeof(n=t)?n:Dt);var n};class At{constructor(e,t,n,o,r=null){this.model=JSON.parse(JSON.stringify(t)),this.schema=e,this.selector=n,this.options=o,this.element=r,this.serverRequester=r?r.serverRequester:window.zb.editor.serverRequest,this.customCSS={default:{},laptop:{},tablet:{},mobile:{}},this.renderAttributes={}}startLoading(){"function"==typeof this.options.onLoadingStart&&this.options.onLoadingStart()}endLoading(){"function"==typeof this.options.onLoadingEnd&&this.options.onLoadingEnd()}parseData(){const e=this.model;return this.parseOptions(this.schema,e),{options:(0,i.applyFilters)("zionbuilder/options/model",e,this),renderAttributes:this.renderAttributes,customCSS:this.getCustomCSS()}}parseOptions(e,t,n=null){return t=null===t?{}:t,Object.keys(e).forEach((o=>{const r=e[o];if(!this.checkDependency(r,t))return!1;if(void 0!==r.is_layout&&r.is_layout)void 0!==r.child_options&&this.parseOptions(r.child_options,t);else if(void 0!==t[o]?(this.setPropperImage(o,r,t),this.setRenderAttributes(r,t[o],n),this.setCustomCSS(r,t[o],n)):void 0!==r.default&&(t[o]=(i=r.default,Bt(i,5))),void 0!==r.child_options)if("repeater"===r.type)void 0!==t[o]&&Array.isArray(t[o])&&t[o].forEach(((e,t)=>{this.parseOptions(r.child_options,e,t)}));else{const e=void 0!==t[o]&&null!==t[o]?t[o]:{};this.parseOptions(r.child_options,e),Object.keys(e).length>0&&(t[o]=e)}var i})),t}setPropperImage(e,t,n){if("image"===t.type&&!0===t.show_size&&n[e]){const t=n[e];t&&t.image&&t.image_size&&"full"!==t.image_size&&(this.startLoading(),(0,r.getImage)(n[e],this.serverRequester).then((t=>{t&&this.setImage(n,e,t)})).finally((()=>{this.endLoading()})))}}setImage(e,t,n){if((e[t]||{}).image===n)return;const o={...e[t],image:n};e[t]=o}addRenderAttribute(e,t,n,o=!1){this.renderAttributes[e]||(this.renderAttributes[e]={});const r=this.renderAttributes[e];r[t]||(r[t]=[]),o?r[t]=[n]:r[t].push(n)}setRenderAttributes(e,t,n=null){const o={default:"",laptop:"--lg",tablet:"--md",mobile:"--sm"};e.render_attribute&&e.render_attribute.forEach((r=>{let i=r.tag_id||"wrapper";i=null===n?i:`${i}${n}`;const l=r.attribute||"class";let a=r.value||"";if(e.responsive_options&&null!==t)t&&"object"!=typeof t&&(t={default:t}),Object.keys(t).forEach((e=>{if(!t[e]||void 0===o[e])return;const n=t[e];a=r.value||"",a=a.replace("{{RESPONSIVE_DEVICE_CSS}}",o[e]),a=a.replace("{{VALUE}}",n)||n,this.addRenderAttribute(i,l,a)}));else{if(!t)return;a=a.replace("{{VALUE}}",t)||t,this.addRenderAttribute(i,l,a)}}))}setCustomCSS(e,t,n=null){e.css_style&&Array.isArray(e.css_style)?e.css_style.forEach((o=>{e.responsive_options&&"object"==typeof t&&null!==t?this.extractResponsiveCSSRules(e.type,o,t,n):this.extractCSSRule("default",e.type,o,t,n)})):"shape_dividers"===e.type&&"object"==typeof t&&Pt(t,((t,o)=>{let{shape:r,height:i}=t;if(r&&i){const t=`zb-mask-pos--${o}`;"string"==typeof i&&(i={default:i}),this.extractResponsiveCSSRules(e.type,{selector:`${this.selector} .${t}`,value:"height: {{VALUE}}"},i,n)}}))}extractResponsiveCSSRules(e,t,n,o){if("object"!=typeof n||null===n)return"";Object.keys(n).forEach((r=>{const i=n[r];this.extractCSSRule(r,e,t,i,o)}))}extractCSSRule(e,t,n,o,r){let{selector:i,value:l}=n;if(i&&l)if(i=i.replace("{{ELEMENT}}",this.selector),l=l.replace("{{VALUE}}",o),null!==r&&(i=i.replace("{{INDEX}}",r)),"element_styles"===t){const t=optionValue.styles||{},n=getStyles(formattedSelector,t);n&&this.addCustomCSS(e,i,n)}else this.addCustomCSS(e,i,l)}addCustomCSS(e,t,n){void 0!==this.customCSS[e]&&(this.customCSS[e][t]=this.customCSS[e][t]||[],this.customCSS[e][t].push(n))}getCustomCSS(){const e={laptop:"991.98px",tablet:"767.98px",mobile:"575.98px"};let t="";return Object.keys(this.customCSS).forEach((n=>{const o=this.customCSS[n],r=this.extractStyles(o);if(0!==r.length)if("default"===n)t+=r;else{if(!e[n])return;t+=`@media(max-width: ${e[n]}) { ${r} } `}})),t}extractStyles(e){let t="";return"object"==typeof e&&null!==e&&Object.keys(e).forEach((n=>{const o=e[n];t+=`${n} { ${o.join(";")} } `})),t}checkDependency(e,t){let n=!0;return e.dependency&&e.dependency.forEach((e=>{n&&(n=this.checkSingleDependency(e,t))})),n}checkSingleDependency(e,t){const{type:n="includes",option:o,option_path:i,value:l}=e;let a=null;return o?a=void 0!==t[o]?t[o]:null:i&&(a=(0,r.getOptionValue)(this.model,i)),!("includes"!==n||!l.includes(a))||"not_in"===n&&!l.includes(a)}getValue(e,t){return(0,r.getOptionValue)(this.model,e,t)}}var Nt=zb.components,Mt={name:"PageStyles",props:{cssClasses:{type:[Object,Array]},pageSettingsModel:{type:Object},pageSettingsSchema:{type:Object}},setup:n=>()=>{const{activePseudoSelector:o}=(0,Nt.usePseudoSelectors)(),i=[],l=function(n){return(0,e.h)(t,{styles:n})},a=new At(n.pageSettingsSchema,n.pageSettingsModel),{customCSS:s}=a.parseData();return i.push(l(s)),"object"==typeof n.cssClasses&&null!==n.cssClasses&&Object.keys(n.cssClasses).forEach((e=>{const t=n.cssClasses[e];let a=(0,r.getCssFromSelector)([`.zb .${t.id}`],t);o.value&&":hover"===o.value.id&&(a+=(0,r.getCssFromSelector)([`.zb .${t.id}`],t,{forcehoverState:!0})),i.push(l(a))})),i}},$t=zb.editor,Rt=zb.i18n;const It={key:0,class:"znpb-hidden-element-container"},Lt={class:"znpb-hidden-element-placeholder"};var Ut=function(e){return"symbol"==typeof e||ee(e)&&"[object Symbol]"==C(e)},Ft=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ht=/^\w*$/;function qt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var l=e.apply(this,o);return n.cache=i.set(r,l)||i,l};return n.cache=new(qt.Cache||q),n}qt.Cache=q;var Wt,Yt,Xt,Zt,Kt,Jt,Gt,Qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,en=/\\(\\)?/g,tn=(Wt=qt((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Qt,(function(e,n,o,r){t.push(o?r.replace(en,"$1"):n||e)})),t}),(function(e){return 500===Yt.size&&Yt.clear(),e})),Yt=Wt.cache,Wt),nn=h?h.prototype:void 0,on=nn?nn.toString:void 0,rn=function e(t){if("string"==typeof t)return t;if(le(t))return function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}(t,e)+"";if(Ut(t))return on?on.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},ln=function(e){return null==e?"":rn(e)},an=function(e,t){return le(e)?e:function(e,t){if(le(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ut(e))||Ht.test(e)||!Ft.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:tn(ln(e))},sn=function(e){if("string"==typeof e||Ut(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},cn=function(e,t,n){var o=null==e?void 0:function(e,t){for(var n=0,o=(t=an(t,e)).length;null!=e&&n<o;)e=e[sn(t[n++])];return n&&n==o?e:void 0}(e,t);return void 0===o?n:o},un=function(e){return function(t){return null==e?void 0:e[t]}},dn=un({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),pn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mn=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),fn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gn="a-z\\xdf-\\xf6\\xf8-\\xff",vn="A-Z\\xc0-\\xd6\\xd8-\\xde",bn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yn="["+bn+"]",wn="\\d+",_n="["+gn+"]",Cn="[^\\ud800-\\udfff"+bn+wn+"\\u2700-\\u27bf"+gn+vn+"]",Sn="(?:\\ud83c[\\udde6-\\uddff]){2}",kn="[\\ud800-\\udbff][\\udc00-\\udfff]",xn="["+vn+"]",En="(?:"+_n+"|"+Cn+")",Vn="(?:"+xn+"|"+Cn+")",jn="(?:['’](?:d|ll|m|re|s|t|ve))?",zn="(?:['’](?:D|LL|M|RE|S|T|VE))?",Bn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Tn="[\\ufe0e\\ufe0f]?",On=Tn+Bn+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Sn,kn].join("|")+")"+Tn+Bn+")*",Dn="(?:"+["[\\u2700-\\u27bf]",Sn,kn].join("|")+")"+On,Pn=RegExp([xn+"?"+_n+"+"+jn+"(?="+[yn,xn,"$"].join("|")+")",Vn+"+"+zn+"(?="+[yn,xn+En,"$"].join("|")+")",xn+"?"+En+"+"+jn,xn+"+"+zn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",wn,Dn].join("|"),"g"),An=function(e,t,n){return e=ln(e),void 0===(t=n?void 0:t)?function(e){return hn.test(e)}(e)?function(e){return e.match(Pn)||[]}(e):function(e){return e.match(fn)||[]}(e):e.match(t)||[]},Nn=RegExp("['’]","g"),Mn=(Xt=function(e,t,n){return e+(n?"-":"")+t.toLowerCase()},function(e){return function(e,t,n,o){var r=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}(An(function(e){return(e=ln(e))&&e.replace(pn,dn).replace(mn,"")}(e).replace(Nn,"")),Xt,"")}),$n=un({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Rn=/[&<>"']/g,In=RegExp(Rn.source),Ln=function(e,t,n){(void 0!==n&&!l(e[t],n)||void 0===n&&!(t in e))&&K(e,t,n)},Un=Function.prototype,Fn=Object.prototype,Hn=Un.toString,qn=Fn.hasOwnProperty,Wn=Hn.call(Object),Yn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Xn=function(e,t,n,o,r,i,l){var a,s=Yn(e,n),c=Yn(t,n),u=l.get(c);if(u)Ln(e,n,u);else{var d=i?i(s,c,n+"",e,t,l):void 0,p=void 0===d;if(p){var m=le(c),f=!m&&ue(c),h=!m&&!f&&_e(c);d=c,m||f||h?le(s)?d=s:ee(a=s)&&ze(a)?d=Re(s):f?(p=!1,d=$e(c,!0)):h?(p=!1,d=bt(c,!0)):d=[]:function(e){if(!ee(e)||"[object Object]"!=C(e))return!1;var t=qe(e);if(null===t)return!0;var n=qn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Hn.call(n)==Wn}(c)||ie(c)?(d=s,ie(s)?d=function(e){return Q(e,De(e))}(s):S(s)&&!k(s)||(d=Ct(c))):p=!1}p&&(l.set(c,d),r(d,c,o,i,l),l.delete(c)),Ln(e,n,d)}},Zn=function e(t,n,o,r,i){t!==n&&Tt(n,(function(l,a){if(i||(i=new Y),S(l))Xn(t,n,a,o,e,r,i);else{var s=r?r(Yn(t,a),l,a+"",t,n,i):void 0;void 0===s&&(s=l),Ln(t,a,s)}}),De)},Kn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Jn=Math.max,Gn=Z?function(e,t){return Z(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Dt,Qn=Date.now,eo=(Zt=Gn,Kt=0,Jt=0,function(){var e=Qn(),t=16-(e-Jt);if(Jt=e,t>0){if(++Kt>=800)return arguments[0]}else Kt=0;return Zt.apply(void 0,arguments)}),to=(Gt=function(e,t,n,o){Zn(e,t,n,o)},function(e,t){return eo(function(e,t,n){return t=Jn(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,i=Jn(o.length-t,0),l=Array(i);++r<i;)l[r]=o[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=o[r];return a[t]=n(l),Kn(e,this,a)}}(e,t,Dt),e+"")}((function(e,t){var n=-1,o=t.length,r=o>1?t[o-1]:void 0,i=o>2?t[2]:void 0;for(r=Gt.length>3&&"function"==typeof r?(o--,r):void 0,i&&function(e,t,n){if(!S(n))return!1;var o=typeof t;return!!("number"==o?ze(n)&&pe(t,n.length):"string"==o&&t in n)&&l(n[t],e)}(t[0],t[1],i)&&(r=o<3?void 0:r,o=1),e=Object(e);++n<o;){var a=t[n];a&&Gt(e,a,n,r)}return e}))),no=function(){return f.Date.now()},oo=/\s/,ro=/^\s+/,io=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&oo.test(e.charAt(t)););return t}(e)+1).replace(ro,""):e},lo=/^[-+]0x[0-9a-f]+$/i,ao=/^0b[01]+$/i,so=/^0o[0-7]+$/i,co=parseInt,uo=function(e){if("number"==typeof e)return e;if(Ut(e))return NaN;if(S(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=S(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=io(e);var n=ao.test(e);return n||so.test(e)?co(e.slice(2),n?2:8):lo.test(e)?NaN:+e},po=Math.max,mo=Math.min;const fo=(0,e.createVNode)("span",{class:"znpb-element-toolbox__resize-width-bg"},null,-1),ho={key:0};var go=function(e){var t=[],n=null,o=function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o};const vo={class:"znpb-popper--tooltip"};var bo={name:"ElementToolbox",components:{TopBarToolbox:{name:"TopBarToolbox",props:{element:Object},setup(t,{emit:n}){const{showSaveElement:o}=(0,$t.useSaveTemplate)(),r=(0,e.ref)(!1),i=(0,e.ref)(!1),l=(0,e.computed)((()=>r.value?"close":"edit")),{editElement:a}=(0,$t.useEditElement)(),s=(0,e.computed)((()=>r.value?`${(0,Rt.translate)("close")} ${t.element.elementTypeModel.name} ${(0,Rt.translate)("toolbox")}`:`${(0,Rt.translate)("open")} ${t.element.elementTypeModel.name} ${(0,Rt.translate)("toolbox")}`));return{toggleOpen:function(){r.value=!r.value,n("set-top-bar-display",r.value),r.value||(i.value=!0,setTimeout((()=>{i.value=!1}),200))},actions:[{title:(0,Rt.translate)("edit_element"),action:()=>a(t.element),icon:"edit"},{title:(0,Rt.translate)("save_element"),action:()=>o(t.element,"block"),icon:"export"},{title:(0,Rt.translate)("visible_element"),action:()=>{t.element.isVisible=!1},icon:"eye"},{title:(0,Rt.translate)("duplicate_element"),action:()=>t.element.duplicate(),icon:"copy"},{title:(0,Rt.translate)("delete_element"),action:()=>t.element.delete(),icon:"delete"}],topBarOpen:r,reverseAnimation:i,closeIcon:l,toolboxOpenText:s}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("Icon"),s=(0,e.resolveComponent)("Tooltip"),c=(0,e.resolveDirective)("znpb-tooltip");return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{appear:"",name:"bounce-icon"},{default:(0,e.withCtx)((()=>[(0,e.createVNode)("div",{class:["znpb-editor-toolbox__top-bar-wrapper",{"znpb-editor-toolbox__top-bar-wrapper--open":r.topBarOpen}]},[r.topBarOpen?((0,e.openBlock)(),(0,e.createBlock)("div",{key:0,class:["znpb-editor-toolbox__top-bar",{"znpb-editor-toolbox__top-bar--open":r.topBarOpen,"znpb-editor-toolbox__top-bar--reverse":r.reverseAnimation}]},[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(r.actions,(t=>((0,e.openBlock)(),(0,e.createBlock)(s,{key:t.title},{content:(0,e.withCtx)((()=>[(0,e.createVNode)("div",vo,(0,e.toDisplayString)(t.title),1)])),default:(0,e.withCtx)((()=>[(0,e.createVNode)(a,{icon:t.icon,onClick:(0,e.withModifiers)(t.action,["stop"])},null,8,["icon","onClick"])])),_:2},1024)))),128))],2)):(0,e.createCommentVNode)("v-if",!0),(0,e.withDirectives)((0,e.createVNode)(a,{icon:r.closeIcon,onClick:r.toggleOpen,class:"znpb-editor-toolbox__element-options-button"},null,8,["icon","onClick"]),[[c,r.toolboxOpenText]])],2)])),_:1})}}},props:{element:Object,canHideToolbox:{type:Boolean,required:!0,default:!0},isToolboxDragging:{type:Boolean,required:!0,default:!1}},setup(t){const n=(0,e.ref)(!1),o=(0,e.ref)(null),{activeResponsiveDeviceInfo:r}=(0,Nt.useResponsiveDevices)(),{focusedElement:i}=(0,$t.useElementActions)(),{addEventListener:l,removeEventListener:a}=(0,$t.useWindows)(),{isDragging:s}=(0,$t.useIsDragging)();return{showColumnTemplates:n,addElementsPopupButton:o,toggleAddElementsPopup:()=>{const{showAddElementsPopup:e}=(0,$t.useAddElementsPopup)();e(t.element,o,{placement:"next"})},activeResponsiveDeviceInfo:r,focusedElement:i,isDragging:s,addEventListener:l,removeEventListener:a}},data(){return{computedStyle:null,zIndex:null,startClientX:null,startClientY:null,activeDragPosition:null,activeDragType:null,initialDraggValue:null,reversedPosition:null,initialSizeValue:null,positions2:{padding:["paddingTop","paddingBottom","paddingLeft","paddingRight"],margin:["marginTop","marginBottom","marginLeft","marginRight"]},styleMap:{paddingTop:"padding-top",paddingRight:"padding-right",paddingBottom:"padding-bottom",paddingLeft:"padding-left",marginTop:"margin-top",marginRight:"margin-right",marginBottom:"margin-bottom",marginLeft:"margin-left",width:"width",height:"height"},positions:{top:"Top",bottom:"Bottom",right:"Right",left:"Left"},popperRefValues:{clientX:0,clientY:0},popperRef:{getBoundingClientRect:()=>({top:this.popperRefValues.clientY,right:this.popperRefValues.clientX,bottom:this.popperRefValues.clientY,left:this.popperRefValues.clientX,width:0,height:0})},showColumnTemplates:!1,newValues:null,settingEvenPaddingDimensions:null,settingEvenMarginsDimensions:null,addToHistory:!1,isTopBarOpen:null}},computed:{computedSavedValues(){const e=this.element.getOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default`,{});return{paddingTop:e[this.styleMap.paddingTop]||this.computedStyle.paddingTop,paddingRight:e[this.styleMap.paddingRight]||this.computedStyle.paddingRight,paddingBottom:e[this.styleMap.paddingBottom]||this.computedStyle.paddingBottom,paddingLeft:e[this.styleMap.paddingLeft]||this.computedStyle.paddingLeft,marginTop:e[this.styleMap.marginTop]||this.computedStyle.marginTop,marginRight:e[this.styleMap.marginRight]||this.computedStyle.marginRight,marginBottom:e[this.styleMap.marginBottom]||this.computedStyle.marginBottom,marginLeft:e[this.styleMap.marginLeft]||this.computedStyle.marginLeft,height:e[this.styleMap.height]||this.computedStyle.height,width:e[this.styleMap.width]||this.computedStyle.width}},computedHelpersStyle(){const{height:e,width:t,...n}=this.styleMap,o={};return Object.keys(n).forEach((e=>{n[e];const t="vertical"==(-1!==e.indexOf("Top")||-1!==e.indexOf("Bottom")?"vertical":"horizontal")?"height":"width",r=Math.abs(parseInt(this.computedStyle[e]));o[e]={[t]:`${r}px`}})),o},getPopperPlacement(){return"Right"===this.activeDragPosition?"left":"Top"===this.activeDragPosition?"bottom":"Bottom"===this.activeDragPosition?"top":"right"},isAnyDragging(){return this.isDragging||this.isToolboxDragging},dragDimension(){return"Top"===this.activeDragPosition||"Bottom"===this.activeDragPosition?"vertical":"horizontal"}},methods:{startSpacingDrag({event:e,type:t,position:n}){const{clientX:o,clientY:i}=e,l=r.Environment.isMac?"metaKey":"ctrlKey";document.body.style.userSelect="none",this.$emit("update:canHideToolbox",!1),this.$emit("update:isToolboxDragging",!0);const a=o,s=i;this.activeDragType=t,this.activeDragPosition=n;const c=this.computedSavedValues[n],u="string"==typeof c&&c?c.match(/^([+-]?[0-9]+([.][0-9]*)?|[.][0-9]+)(\D+)$/):null,d=u&&u[1]?parseInt(u[1]):0,p=u?u[3]:"";this.onMouseMoveDebounced=go((e=>{let{direction:o,distance:r}=this.getDragInfo({event:e,type:t,position:n,startClientX:a,startClientY:s});["padding","margin"].includes(t)&&-1!==n.indexOf("Right")&&(r*=-1);let i="%"===p?d+.1*r:d+r;e.shiftKey&&(i=5*Math.round(i/5)),"padding"===t&&(i=Math.max(i,0)),i=Math.round(10*i)/10,d!==i&&(this.updateElementStyle({newValue:`${i}${p}`,type:t,position:n,even:e[l],reversedPosition:e[l]?this.getReversedPosition(n):null}),this.setComputedStyle())})),this.addEventListener("mousemove",this.onMouseMoveDebounced),this.addEventListener("mouseup",this.onMouseUp)},getReversedPosition(e){const t=e.split(/(?=[A-Z])/);let n;switch(t[1]){case"Top":n="Bottom";break;case"Bottom":n="Top";break;case"Left":n="Right";break;case"Right":n="Left"}return`${t[0]}${n}`},updateElementStyle({newValue:e,type:t,position:n,even:o,reversedPosition:r}){const i=this.styleMap[n];if(this.addToHistory=!0,this.element.updateOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default.${i}`,e),o){const t=this.styleMap[r];this.element.updateOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default.${t}`,e)}},getDragInfo({event:e,type:t,position:n,startClientX:o,startClientY:r}){const i=-1!==n.indexOf("Top")||-1!==n.indexOf("Bottom")?"vertical":"horizontal";return{direction:i,distance:"vertical"===i?e.clientY-r:e.clientX-o}},onMouseUp(){if(this.addToHistory){const{addToHistory:e}=(0,$t.useHistory)();e(`Updated ${this.element.name} ${this.activeDragType}`)}this.onMouseMoveDebounced.cancel(),this.removeEventListener("mousemove",this.onMouseMoveDebounced),this.removeEventListener("mouseup",this.onMouseUp),this.onMouseMoveDebounced=null,this.activeDragType=null,this.activeDragPosition=null,this.addToHistory=!1,document.body.style.userSelect=null,this.$emit("update:canHideToolbox",!0),this.$emit("update:isToolboxDragging",!1)},setTopBarDisplay(e){this.isTopBarOpen=e},getNumberFromString:e=>parseInt(e.match(/\d+/)[0]),setComputedStyle(){this.computedStyle=window.getComputedStyle(this.$parent.$el)},removeEvents(){this.removeEventListener("mousemove",this.changeSizeDebounced),this.removeEventListener("mousemove",this.changePaddingWidth),this.removeEventListener("mousemove",this.changeMarginWidth),this.removeEventListener("mouseup",this.endDragging)},getSizeChangePropertyFromPosition(e){let t=null;return t="Top"===e||"Bottom"===e?"min-height":"width",t},startSizeDrag(e,t,n){const{clientX:o,clientY:r}=e;this.$emit("update:canHideToolbox",!1),this.$emit("update:isToolboxDragging",!0),this.startClientX=o,this.startClientY=r,this.popperRefValues={clientX:o,clientY:r},this.activeDragPosition=t,this.activeDragType="size";const i=this.getSizeChangePropertyFromPosition(t);document.body.style.userSelect="none",this.initialSizeValue=parseInt(this.getSizeValue(i)),this.changeSizeDebounced=go(this.changeSize),this.addEventListener("mousemove",this.changeSizeDebounced),this.addEventListener("mouseup",this.endDragging)},getSizeValue(e){let t=this.element.getOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default.${e}`);if(null!==t)return t;const n="min-height"===e?"height":"width",o=this.computedStyle.getPropertyValue(n);return this.getNumberFromString(o)||0},changeSize(e){const{clientX:t,clientY:n}=e;if(!this.activeDragPosition)return;let o=null;const r=this.getSizeChangePropertyFromPosition(this.activeDragPosition),i="vertical"===this.dragDimension?"vertical":"horizontal";if(this.addToHistory=!0,"vertical"===i){const e=n-this.startClientY;o="Top"===this.activeDragPosition?this.initialSizeValue-e:this.initialSizeValue+e}else o="Right"===this.activeDragPosition?t-this.startClientX+this.initialSizeValue:this.startClientX-t+this.initialSizeValue;if(o<0&&(o=0),this.newValues=o,this.element.updateOptionValue(`_styles.wrapper.styles.${this.activeResponsiveDeviceInfo.id}.default.${r}`,`${o}px`),this.$refs[`sizeDrag--${this.activeDragPosition}`]){const{bottom:e,left:t,top:n,right:o}=this.$refs.rectangle.getBoundingClientRect();"Top"===this.activeDragPosition?this.popperRefValues.clientY=n:"Right"===this.activeDragPosition?this.popperRefValues.clientX=o:"Bottom"===this.activeDragPosition?this.popperRefValues.clientY=e:this.popperRefValues.clientX=t,this.$refs[`sizeDrag--${this.activeDragPosition}`].scheduleUpdate()}},endDragging(){if(document.body.style.userSelect=null,this.startClientX=null,this.startClientY=null,this.activeDragPosition=null,this.popperRef=null,this.$emit("update:canHideToolbox",!0),this.$emit("update:isToolboxDragging",!1),this.addToHistory){const{addToHistory:e}=(0,$t.useHistory)();e(`Updated ${this.element.name} ${this.activeDragType}`)}this.addToHistory=!1,this.settingEvenPaddingDimensions=!1,this.removeEvents()}},beforeUnmount(){this.removeEvents()},created(){this.setComputedStyle()},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("Tooltip"),s=(0,e.resolveComponent)("Icon"),c=(0,e.resolveComponent)("TopBarToolbox"),u=(0,e.resolveDirective)("znpb-tooltip");return(0,e.openBlock)(),(0,e.createBlock)("div",{class:["znpb-element-toolbox",{"znpb-element-toolbox--dragging":l.isAnyDragging,[`znpb-element-toolbox__resize-${i.activeDragType}-${i.activeDragPosition}--dragging`]:o.isToolboxDragging}],style:{"z-index":i.zIndex},ref:"rectangle",onMouseover:n[3]||(n[3]=(0,e.withModifiers)((e=>i.zIndex=9999),["stop"])),onMouseout:n[4]||(n[4]=(0,e.withModifiers)((e=>i.zIndex=null),["stop"]))},[i.computedStyle?((0,e.openBlock)(),(0,e.createBlock)(e.Fragment,{key:0},[(0,e.createCommentVNode)(" Width/height "),((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(i.positions,((t,n)=>((0,e.openBlock)(),(0,e.createBlock)(a,{ref:`sizeDrag--${t}`,"tooltip-class":"hg-popper--big-arrows znpb-sizing-label",placement:l.getPopperPlacement,"append-to":"body",trigger:"null","show-arrows":!1,show:"size"===i.activeDragType&&i.activeDragPosition===t&&null!=i.newValues,key:`size-${t}`,"popper-ref":i.popperRef,onMousedown:(0,e.withModifiers)((e=>l.startSizeDrag(e,t)),["left","stop"])},{content:(0,e.withCtx)((()=>[(0,e.createVNode)("span",null,(0,e.toDisplayString)(void 0!==i.newValues?i.newValues+"px":""),1)])),default:(0,e.withCtx)((()=>[(0,e.createVNode)("div",{class:["znpb-element-toolbox__resize-width znpb-element-toolbox__resize-dimensions",{[`znpb-element-toolbox__resize-width--${n}`]:!0,["znpb-element-toolbox__resize-dimensions--"+("top"===n||"bottom"===n?"height":"width")]:!0}],onMousedown:(0,e.withModifiers)((e=>l.startSizeDrag(e,t)),["left","stop"])},[fo],42,["onMousedown"])])),_:2},1032,["placement","show","popper-ref","onMousedown"])))),128)),(0,e.createCommentVNode)(" Paddings "),((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(i.positions2,((t,n)=>((0,e.openBlock)(),(0,e.createBlock)(e.Fragment,null,[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(t,(t=>((0,e.openBlock)(),(0,e.createBlock)("div",{key:`${n}-${t}`,class:{"znpb-element-toolbox__resize":!0,[`znpb-element-toolbox__resize-${n}`]:!0,[`znpb-element-toolbox__resize--${t}`]:!0,"znpb-element-toolbox__resize--dragging":i.activeDragType===n&&(i.activeDragPosition===t||i.reversedPosition===t)},onMousedown:(0,e.withModifiers)((e=>l.startSpacingDrag({event:e,type:n,position:t})),["left","stop"])},[(0,e.createVNode)("div",{class:"znpb-element-toolbox__resize-value",style:l.computedHelpersStyle[t]},[Math.abs(parseInt(i.computedStyle[t]))>20?((0,e.openBlock)(),(0,e.createBlock)("span",ho,(0,e.toDisplayString)(l.computedSavedValues[t]),1)):(0,e.createCommentVNode)("v-if",!0)],4)],42,["onMousedown"])))),128))],64)))),256)),(0,e.createCommentVNode)(" Add new Button "),(0,e.createVNode)(e.Transition,{appear:"",name:"bounce-add-icon"},{default:(0,e.withCtx)((()=>[l.isAnyDragging?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)("div",{key:0,class:"znpb-element-toolbox__add-element-button",onClick:n[1]||(n[1]=(...e)=>r.toggleAddElementsPopup&&r.toggleAddElementsPopup(...e)),ref:"addElementsPopupButton"},[(0,e.withDirectives)((0,e.createVNode)(s,{icon:"plus",rounded:!0},null,512),[[u,t.$translate("insert_after")+" "+o.element.name]])],512))])),_:1}),l.isAnyDragging?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)(c,{key:0,element:o.element,onSetTopBarDisplay:n[2]||(n[2]=e=>l.setTopBarDisplay(e))},null,8,["element"]))],64)):(0,e.createCommentVNode)("v-if",!0)],38)}};const yo={class:"znpb-preview__element-loading"};var wo={name:"ElementLoading",setup:()=>({urls:(0,e.inject)("editor_urls")}),computed:{loadingUrl(){return this.urls.loader}},render:function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createBlock)("div",yo,[(0,e.createVNode)("img",{src:l.loadingUrl},null,8,["src"])])}};function _o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new q;++t<n;)this.add(e[t])}_o.prototype.add=_o.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},_o.prototype.has=function(e){return this.__data__.has(e)};var Co=_o,So=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1},ko=function(e,t){return e.has(t)},xo=function(e,t,n,o,r,i){var l=1&n,a=e.length,s=t.length;if(a!=s&&!(l&&s>a))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,m=2&n?new Co:void 0;for(i.set(e,t),i.set(t,e);++d<a;){var f=e[d],h=t[d];if(o)var g=l?o(h,f,d,t,e,i):o(f,h,d,e,t,i);if(void 0!==g){if(g)continue;p=!1;break}if(m){if(!So(t,(function(e,t){if(!ko(m,t)&&(f===e||r(f,e,n,o,i)))return m.push(t)}))){p=!1;break}}else if(f!==h&&!r(f,h,n,o,i)){p=!1;break}}return i.delete(e),i.delete(t),p},Eo=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n},Vo=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},jo=h?h.prototype:void 0,zo=jo?jo.valueOf:void 0,Bo=Object.prototype.hasOwnProperty,To="[object Arguments]",Oo="[object Array]",Do="[object Object]",Po=Object.prototype.hasOwnProperty,Ao=function(e,t,n,o,r,i){var a=le(e),s=le(t),c=a?Oo:dt(e),u=s?Oo:dt(t),d=(c=c==To?Do:c)==Do,p=(u=u==To?Do:u)==Do,m=c==u;if(m&&ue(e)){if(!ue(t))return!1;a=!0,d=!1}if(m&&!d)return i||(i=new Y),a||_e(e)?xo(e,t,n,o,r,i):function(e,t,n,o,r,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new mt(e),new mt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Eo;case"[object Set]":var c=1&o;if(s||(s=Vo),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;o|=2,a.set(e,t);var d=xo(s(e),s(t),o,r,i,a);return a.delete(e),d;case"[object Symbol]":if(zo)return zo.call(e)==zo.call(t)}return!1}(e,t,c,n,o,r,i);if(!(1&n)){var f=d&&Po.call(e,"__wrapped__"),h=p&&Po.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new Y),r(g,v,n,o,i)}}return!!m&&(i||(i=new Y),function(e,t,n,o,r,i){var l=1&n,a=Xe(e),s=a.length;if(s!=Xe(t).length&&!l)return!1;for(var c=s;c--;){var u=a[c];if(!(l?u in t:Bo.call(t,u)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var m=!0;i.set(e,t),i.set(t,e);for(var f=l;++c<s;){var h=e[u=a[c]],g=t[u];if(o)var v=l?o(g,h,u,t,e,i):o(h,g,u,e,t,i);if(!(void 0===v?h===g||r(h,g,n,o,i):v)){m=!1;break}f||(f="constructor"==u)}if(m&&!f){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(m=!1)}return i.delete(e),i.delete(t),m}(e,t,n,o,r,i))},No=function e(t,n,o,r,i){return t===n||(null==t||null==n||!ee(t)&&!ee(n)?t!=t&&n!=n:Ao(t,n,o,r,e,i))},Mo=function(e,t){return No(e,t)},$o={name:"VideoBackground",props:{videoConfig:{type:Object,required:!1}},computed:{getVideoSettings(){return JSON.stringify(this.videoConfig)},hasVideoSource(){const e=this.videoConfig&&this.videoConfig.videoSource?this.videoConfig.videoSource:"local";return!("youtube"!==e||!this.videoConfig.youtubeURL)||!("vimeo"!==e||!this.videoConfig.vimeoURL)||!("local"!==e||!this.videoConfig.mp4)}},watch:{videoConfig(e,t){this.hasVideoSource&&(Mo(e,t)||(this.videoInstance&&this.videoInstance.destroy(),this.$nextTick((()=>{this.videoInstance=new window.ZBVideoBg(this.$el,this.videoConfig)}))))}},mounted(){this.hasVideoSource&&Object.keys(this.videoConfig).length>0&&(this.videoInstance=new window.ZBVideoBg(this.$el,this.videoConfig))},render:function(t,n,o,r,i,l){return l.hasVideoSource?((0,e.openBlock)(),(0,e.createBlock)("div",{key:0,class:"zb__videoBackground-wrapper","data-zion-video-background":l.getVideoSettings},null,8,["data-zion-video-background"])):(0,e.createCommentVNode)("v-if",!0)}};const Ro={key:0,class:"znpb__server-element--empty"},Io={key:1,class:"znpb__server-element-loader--loading"};let Lo,Uo,Fo={},Ho=!1;const qo=()=>{const e=()=>{const e=window.document.getElementsByTagName("script");return Array.from(e).forEach((e=>{e.src&&(Fo[e.src]="done")})),Fo},t=()=>{let e={};const t=window.document.getElementsByTagName("link");return Array.from(t).forEach((t=>{"stylesheet"===t.rel&&(e[t.href]="done")})),e};Ho||(Lo=e(),Uo=t(),Ho=!0);const n=e=>{const t=window.document.createElement("script");t.type="text/javascript";const n=window.document.createTextNode(e);t.appendChild(n),window.document.body.appendChild(t)},o=e=>{if("object"==typeof Lo[e])return Lo[e];if("done"===Lo[e])return Promise.resolve(e);if("error"===Lo[e])return Promise.reject(e);const t=new Promise(((t,n)=>{const o=window.document.createElement("script");o.src=e,o.onload=()=>{Lo[e]="done",t(window.document)},o.onerror=()=>{Lo[e]="error",n(window.document)},window.document.body.appendChild(o)}));return Lo[e]=t,t},r=e=>{if("object"==typeof Uo[e])return Uo[e];if("done"===Uo[e])return Promise.resolve(e);if("error"===Uo[e])return Promise.reject(e);const t=new Promise(((t,n)=>{const o=window.document.createElement("link");o.type="text/css",o.rel="stylesheet",o.href=e,o.onload=()=>{t(window.document),Uo[e]="done"},o.onerror=()=>{n(window.document),Uo[e]="error"},window.document.getElementsByTagName("head")[0].appendChild(o)}));return Uo[e]=t,t};return{getAvailableScripts:e,getAvailableStyles:t,loadScript:e=>{const t=-1!==e.src.indexOf(".js")?"javascript":-1!==e.src.indexOf(".css")&&"css";return"javascript"===t?(e.data&&n(e.data),e.before&&n(e.before),o(e.src).then((()=>{e.after&&n(e.after)})).catch((e=>console.error(e)))):"css"===t?r(e.src).catch((e=>console.error(e))):void 0},addInlineJavascript:n,loadJavaScriptFile:o,loadCssFile:r,reset:function(){Fo={},Ho=!1,Lo={},Uo={}},scripts:Fo,loadedScripts:Lo,loadedStyles:Uo}};var Wo={name:"ServerComponent",props:{element:Object,options:{type:Object},api:{type:Object}},setup(t){const{editorData:n}=(0,$t.useEditorData)(),o=t.element.elementTypeModel,l=n.value.urls.logo,a=(0,e.ref)(null),s=(0,e.ref)(""),c=(0,e.ref)(!0),u=(0,e.ref)(!1),d=(0,e.computed)((()=>{const e=o,{_styles:n,_advanced_options:r,...i}=t.options;return e.requires_data_for_render&&0===Object.keys(i).length})),p=(0,e.computed)((()=>{let{_styles:e,_advanced_options:n,...o}=t.options;return JSON.stringify(o)}));(0,e.watch)(p,((e,t)=>{h()}));const m=(0,i.applyFilters)("zionbuilder/server_component/data",{element_data:t.element});function f(){c.value=!0,t.element.serverRequester.request({type:"render_element",config:m},(n=>{s.value=n.data.element,function(e){const t=a.value;t.innerHTML=e,Array.from(t.querySelectorAll("script")).forEach((e=>{const t=document.createElement("script");Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)})),t.addEventListener("load",g)}(s.value),function(e){const{loadScript:t}=qo();return new Promise(((n,o)=>{Object.keys(e).map((n=>{const o=e[n];if(o.handle=o.handle?o.handle:n,o.src)return t(o)})),n()}))}(n.data.scripts).then((()=>{c.value=!1,(0,e.nextTick)((()=>{setTimeout((()=>{!function(){const e=a.value.querySelectorAll("img, iframe, video");let t=e.length;const n=()=>{t--,0===t&&g()};t>0?e.forEach((e=>{e.addEventListener("load",n),e.addEventListener("error",n)})):g()}(),(0,i.trigger)("zionbuilder/server_component/rendered",a.value,t.element,t.options)}),20)}))}))}),(function(e){c.value=!1,console.log("server Request fail",e)}))}const h=(0,r.debounce)((function(){f()}),500);function g(){const{height:e}=a.value.getBoundingClientRect();u.value=e<2}return f(),(0,i.on)("zionbuilder/server_component/refresh",h),(0,e.onBeforeUnmount)((()=>{(0,i.off)("zionbuilder/server_component/refresh",h)})),{contentModel:o,logoUrl:l,elementContentRef:a,requiresDataForRender:d,elementContent:s,loading:c,elementNotSelectable:u}},render:function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createBlock)("div",null,[(0,e.renderSlot)(t.$slots,"start"),(0,e.createVNode)("div",{class:{"znpb__server-element--loading":r.loading},ref:"elementContentRef"},null,2),r.loading||0!==r.elementContent.length&&!r.elementNotSelectable&&!r.requiresDataForRender?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)("div",Ro,[(0,e.createVNode)("img",{src:r.logoUrl},null,8,["src"])])),r.loading?((0,e.openBlock)(),(0,e.createBlock)("div",Io)):(0,e.createCommentVNode)("v-if",!0),(0,e.renderSlot)(t.$slots,"end")])}};const Yo={class:"znpb-element--not-found"};var Xo={name:"InvalidElement",render:function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createBlock)("div",Yo,[(0,e.renderSlot)(t.$slots,"start"),(0,e.createTextVNode)(" "+(0,e.toDisplayString)(t.$translate("element_not_found"))+" ",1),(0,e.renderSlot)(t.$slots,"end")])}};let Zo=!1;var Ko={name:"ElementWrapper",components:{ElementToolbox:bo,VideoBackground:$o,ElementLoading:wo,ElementStyles:t},props:["element"],setup(t){const{isPreviewMode:n}=(0,$t.usePreviewMode)(),{elementComponent:o,fetchElementComponent:l}=function(t){const n=(0,e.ref)(null);return{elementComponent:n,fetchElementComponent:()=>{(()=>{const{loadScript:e}=qo();return Promise.all([...Object.keys(t.elementTypeModel.scripts).map((n=>{const o=t.elementTypeModel.scripts[n];if(o.handle=o.handle?o.handle:n,o.src)return e(o)})),...Object.keys(t.elementTypeModel.styles).map((n=>{const o=t.elementTypeModel.styles[n];if(o.handle=o.handle?o.handle:n,o.src)return e(o)}))])})().then((()=>{const o=t.elementTypeModel;let r;r="invalid"===o.element_type?(0,e.markRaw)(Xo):o.component?o.component:(0,e.markRaw)(Wo),n.value=(0,i.applyFilters)("zionbuilder/element/component",r,t)}))}}}(t.element),{focusElement:a}=(0,$t.useElementActions)(),{getSchema:s}=(0,Nt.useOptionsSchemas)(),{activePseudoSelector:c}=(0,Nt.usePseudoSelectors)(),{element:u}=(0,$t.useEditElement)();let d=null,p=null;const m=(0,e.ref)(!1),f=(0,e.computed)((()=>t.element.loading||m.value)),h=(0,e.ref)(!1),g=(0,e.ref)(!0),v=(0,e.ref)(!1),b=(0,e.ref)({}),y=(0,e.ref)(!1),w=(0,e.ref)(!1),_={_advanced_options:{type:"group",child_options:s("element_advanced")}},C=Object.assign({},cn(t.element,"elementTypeModel.options",{}),_),S=(0,e.computed)((()=>{const e=`#${t.element.elementCssId}`;return p=new At(C,t.element.options,e,{onLoadingStart:()=>m.value=!0,onLoadingEnd:()=>m.value=!1},t.element),p.parseData()})),k=(0,e.computed)((()=>(0,e.readonly)(S.value.options||{})));(0,e.watch)(u,((e,n)=>{e===t.element?y.value=!0:n===t.element&&(y.value=!1)})),(0,e.watch)(c,(e=>{":hover"===e.id?w.value=!0:w.value=!1}));const x=(0,e.computed)((()=>y.value&&w.value)),E=(0,e.computed)((()=>{let e=S.value.customCSS;const n=t.element.elementTypeModel.style_elements;return n&&Object.keys(n).forEach((o=>{if(k.value._styles&&k.value._styles[o]){const l=n[o],a=(0,i.applyFilters)("zionbuilder/element/css_selector",`#${t.element.elementCssId}`,p,t.element),s=l.selector.replace("{{ELEMENT}}",a),c=(0,i.applyFilters)("zionbuilder/element/styles_model",k.value._styles[o],p,t.element);e+=(0,r.getCssFromSelector)([s],c),x.value&&(e+=(0,r.getCssFromSelector)([s],c,{forcehoverState:!0}))}})),e=(0,i.applyFilters)("zionbuilder/element/custom_css",e,p,t.element),e})),V=(0,e.computed)((()=>k.value._styles||{})),j=(0,e.computed)((()=>t.element.isVisible&&h.value&&!n.value&&!t.element.elementTypeModel.is_child)),z=(0,e.computed)((()=>!(n.value&&!1===k.value._isVisible))),B=(0,e.computed)((()=>(0,r.getOptionValue)(k.value,"_styles.wrapper.styles.default.default.background-video",{}))),T=(0,e.computed)((()=>{const e=S.value.renderAttributes,n={};V.value&&Pt(V.value,((e,t)=>{e.attributes&&Pt(e.attributes,(e=>{if(e.attribute_name){n[t]=n[t]||{};let r=Mn(e.attribute_name),i=(o=e.attribute_value,(o=ln(o))&&In.test(o)?o.replace(Rn,$n):o);n[t][r]=i}var o}))}));const o=t.element.elementTypeModel.style_elements;return o&&Object.keys(o).forEach((e=>{if(k.value._styles&&k.value._styles[e]&&k.value._styles[e].classes){const t=o[e].render_tag;t&&k.value._styles[e].classes.forEach((e=>{n[t]||(n[t]={}),n[t].class=[...n[t].class||[],e]}))}})),to({},e,n,((e,t)=>{if(le(e))return t.concat(e)}))})),O=(0,e.computed)((()=>{const e=T.value.wrapper||{},n=(0,r.camelCase)(t.element.element_type),o=(0,i.applyFilters)("zionbuilder/element/css_classes",{[`zb-el-${n}`]:!0,"znpb-element__wrapper--toolbox-dragging":v.value,"znpb-element__wrapper--cutted":t.element.isCutted,"znpb-element--loading":f.value},p,t.element);if(V.value.wrapper){const e=V.value.wrapper;e.classes&&e.classes.forEach((e=>{o[e]=!0}))}return(void 0!==e.class?e.class:[]).forEach((e=>{o[e]=!0})),{...e,class:o,api:{getStyleClasses:P,getAttributesForTag:D}}}));function D(e,t={},n=null){return e=null!==n?`${e}${n}`:e,Object.assign(T.value[e]||{},t)}l();const P=(e,t={})=>{const n={};if(V.value[e]){const t=V.value[e];t.classes&&t.classes.forEach((e=>{n[e]=!0}))}return n};return(0,e.provide)("elementInfo",t.element),(0,e.provide)("elementOptions",k),{stylesConfig:V,canShowToolbox:j,canShowElement:z,videoConfig:B,getExtraAttributes:O,elementComponent:o,isPreviewMode:n,showElementMenu:function(e){if(!n.value){e.preventDefault(),e.stopPropagation();const{showElementMenuFromEvent:n}=(0,$t.useElementMenu)();n(t.element,e,{rename:!1})}},focusElement:a,onElementClick:e=>{Zo||(a(t.element),Zo=!0,setTimeout((()=>{Zo=!1}),10))},options:k,customCSS:E,loading:f,canHideToolbox:g,isToolboxDragging:v,toolboxWatcher:d,registeredEvents:b,showToolbox:h,onMouseLeave:()=>{g.value?h.value=!1:d||(d=(0,e.watch)(g,(e=>{e&&(h.value=!1,d(),d=null)})))}}},watch:{"element.scrollTo"(e){e&&("function"==typeof this.$el.scrollIntoView&&this.$el.scrollIntoView({behavior:"smooth"}),setTimeout((()=>{this.element.scrollTo=!1}),1e3))}},methods:{debounceUpdate:function(e,t,n){var o,r,i,l,a,s,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=o,i=r;return o=r=void 0,c=t,l=e.apply(i,n)}function f(e){return c=e,a=setTimeout(g,t),u?m(e):l}function h(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-c>=i}function g(){var e=no();if(h(e))return v(e);a=setTimeout(g,function(e){var n=t-(e-s);return d?mo(n,i-(e-c)):n}(e))}function v(e){return a=void 0,p&&o?m(e):(o=r=void 0,l)}function b(){var e=no(),n=h(e);if(o=arguments,r=this,s=e,n){if(void 0===a)return f(s);if(d)return clearTimeout(a),a=setTimeout(g,t),m(s)}return void 0===a&&(a=setTimeout(g,t)),l}return t=uo(t)||0,S(n)&&(u=!!n.leading,i=(d="maxWait"in n)?po(uo(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,o=s=r=a=void 0},b.flush=function(){return void 0===a?l:v(no())},b}((function(){this.$nextTick((()=>{this.trigger("updated")}))})),applyCustomClassesToRenderTags(){const e=(0,r.getOptionValue)(this.options,"_styles",{}),t=this.element.elementTypeModel.style_elements;(0,r.getOptionValue)(this.options,"attributes",{}),Object.keys(e).forEach((n=>{const{classes:o}=e[n];if(void 0!==t[n]){const{render_tag:e}=t[n];e&&o&&o.length>0&&o.forEach((t=>{this.element.renderAttributes.addRenderAttribute(e,"class",t)}))}}))},editElement(e){const{editElement:t}=(0,$t.useEditElement)();e.stopPropagation(),this.isPreviewMode.value||(t(this.element),(0,r.clearTextSelection)(window),(0,r.clearTextSelection)(window.parent))},restoreHiddenElement(){this.element.toggleVisibility()},on(e,t){void 0===this.registeredEvents[e]&&(this.registeredEvents[e]=[]),this.registeredEvents[e].push(t)},off(e,t){if(void 0===this.registeredEvents[e]&&this.registeredEvents[e].includes(t)){const n=this.registeredEvents[e].indexOf(t);-1!==n&&this.registeredEvents[e].splice(n,1)}},offAll(){this.registeredEvents={}},getDefaultEventResponse(){return{elementType:this.element.element_type,element:this.$el,options:this.options||{},elementUid:this.element.uid,on:this.on,off:this.off,offAll:this.offAll}},trigger(e,t){const n=this.getDefaultEventResponse();void 0!==this.registeredEvents[e]&&this.registeredEvents[e].forEach((e=>{e({...n,...t})}))}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("ElementLoading"),s=(0,e.resolveComponent)("ElementToolbox"),c=(0,e.resolveComponent)("VideoBackground"),u=(0,e.resolveComponent)("ElementStyles"),d=(0,e.resolveComponent)("Icon");return r.loading?((0,e.openBlock)(),(0,e.createBlock)(a,{key:0})):!r.elementComponent||!1===o.element.isVisible&&r.isPreviewMode?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(r.elementComponent),(0,e.mergeProps)({key:1,class:["znpb-element__wrapper zb-element",{"znpb-element__wrapper--panel-hovered":o.element.isHighlighted}],id:`${o.element.elementCssId}`,element:o.element,options:r.options,onMouseenter:n[4]||(n[4]=e=>r.showToolbox=!0),onMouseleave:r.onMouseLeave,onClick:r.onElementClick,onDblclick:l.editElement,onContextmenu:r.showElementMenu},r.getExtraAttributes),{start:(0,e.withCtx)((()=>[r.canShowToolbox?((0,e.openBlock)(),(0,e.createBlock)(s,{key:0,element:o.element,"can-hide-toolbox":r.canHideToolbox,"onUpdate:can-hide-toolbox":n[1]||(n[1]=e=>r.canHideToolbox=e),"is-toolbox-dragging":r.isToolboxDragging,"onUpdate:is-toolbox-dragging":n[2]||(n[2]=e=>r.isToolboxDragging=e)},null,8,["element","can-hide-toolbox","is-toolbox-dragging"])):(0,e.createCommentVNode)("v-if",!0),r.videoConfig?((0,e.openBlock)(),(0,e.createBlock)(c,{key:1,"video-config":r.videoConfig},null,8,["video-config"])):(0,e.createCommentVNode)("v-if",!0),(0,e.createVNode)(u,{styles:r.customCSS},null,8,["styles"])])),end:(0,e.withCtx)((()=>[o.element.isVisible?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)("div",It,[(0,e.createVNode)("div",Lt,[(0,e.createVNode)(d,{icon:"eye",onClick:n[3]||(n[3]=(0,e.withModifiers)((e=>o.element.toggleVisibility()),["stop"]))})])]))])),_:1},16,["class","id","element","options","onMouseleave","onClick","onDblclick","onContextmenu"]))}},Jo={name:"Element",props:["element","onElementSetup"],setup(t){const n=(0,e.ref)({}),o=(0,e.ref)({});(0,i.trigger)("zionbuilder/preview/element/setup",t.element);const r=(0,e.computed)((()=>(0,i.applyFilters)("zionbuilder/preview/element/wrapper_component",Ko,t.element)));return"function"==typeof t.onElementSetup&&t.onElementSetup.apply(null,[o,n]),{elementWrapperComponent:r,attrs:n,elementRef:o}},render:function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(r.elementWrapperComponent),(0,e.mergeProps)({element:o.element},r.attrs,{ref:"elementRef"}),null,16,["element"])}},Go={name:"SortableContent",inheritAttrs:!1,components:{Element:Jo},props:{element:Object,group:{type:Object,required:!1},allowElementsAdd:{type:Boolean,default:!0},emptyPlaceholderText:{type:String},onElementSetup:{type:Function}},setup(t){const{addToHistory:n}=(0,$t.useHistory)(),{getElementType:o}=(0,$t.useElementTypes)(),i={name:"elements"},l=(0,e.ref)(!1),a=(0,e.ref)(null),{getElement:s}=(0,$t.useElements)(),c=(0,e.computed)((()=>t.element.content.length>0&&l.value)),u=(0,e.computed)((()=>t.group||i)),d=(0,e.computed)((()=>{let e="horizontal";if("contentRoot"===t.element.element_type)return"vertical";const n=o(t.element.element_type);n&&(e=n.content_orientation),t.element.options.inner_content_layout&&(e=t.element.options.inner_content_layout);const i=(0,r.getOptionValue)(t.element.options,"_styles.wrapper.styles.default.default.flex-direction");return i&&(e="row"===i?"horizontal":"vertical"),e})),{isPreviewMode:p}=(0,$t.usePreviewMode)(),{isDragging:m,setDraggingState:f}=(0,$t.useIsDragging)(),{copyElement:h}=(0,$t.useElementActions)();return{isPreviewMode:p,groupInfo:u,getSortableAxis:d,showAddElementsPopup:c,toggleAddElementsPopup:()=>{const{showAddElementsPopup:e}=(0,$t.useAddElementsPopup)();e(t.element,a)},addElementsPopupButton:a,showColumnTemplates:l,isDragging:m,setDraggingState:f,copyElement:h,onSortableDrop:function(e){const t=e.data.item.getAttribute("zion-element-uid"),o=s(t),r=(0,Rt.translate)("moved");n(`${r} ${o.name}`)},onSortableDuplicate:function(e){return e.getClone()},onSortableStart:function(){const{hideAddElementsPopup:e}=(0,$t.useAddElementsPopup)();e(),f(!0)},onSortableEnd:function(){f(!1)}}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("Element"),s=(0,e.resolveComponent)("SortableHelper"),c=(0,e.resolveComponent)("SortablePlaceholder"),u=(0,e.resolveComponent)("EmptySortablePlaceholder"),d=(0,e.resolveComponent)("Sortable");return(0,e.openBlock)(),(0,e.createBlock)(d,(0,e.mergeProps)({modelValue:o.element.content,"onUpdate:modelValue":n[1]||(n[1]=e=>o.element.content=e),onStart:r.onSortableStart,onEnd:r.onSortableEnd,onDrop:r.onSortableDrop,group:r.groupInfo,disabled:r.isPreviewMode,"allow-duplicate":!0,"duplicate-callback":r.onSortableDuplicate},t.$attrs,{class:{[`znpb__sortable-container--${r.getSortableAxis}`]:r.isDragging},axis:r.getSortableAxis}),{start:(0,e.withCtx)((()=>[(0,e.renderSlot)(t.$slots,"start")])),helper:(0,e.withCtx)((()=>[(0,e.createVNode)(s)])),placeholder:(0,e.withCtx)((()=>[(0,e.createVNode)(c)])),end:(0,e.withCtx)((()=>[0===o.element.content.length&&o.allowElementsAdd&&!r.isPreviewMode?((0,e.openBlock)(),(0,e.createBlock)(u,{key:0,element:o.element},null,8,["element"])):(0,e.createCommentVNode)("v-if",!0),(0,e.renderSlot)(t.$slots,"end")])),default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(o.element.content,(t=>((0,e.openBlock)(),(0,e.createBlock)(a,{key:t.uid,element:t,"zion-element-uid":t.uid,"on-element-setup":o.onElementSetup},null,8,["element","zion-element-uid","on-element-setup"])))),128))])),_:1},16,["modelValue","onStart","onEnd","onDrop","group","disabled","duplicate-callback","class","axis"])}},Qo={name:"PreviewApp",components:{SortableContent:Go,PageStyles:Mt,ElementStyles:t},setup(){const{editorData:t}=(0,$t.useEditorData)(),{getElement:n}=(0,$t.useElements)(),{getSchema:o}=(0,Nt.useOptionsSchemas)(),{CSSClasses:r}=(0,$t.useCSSClasses)(),{isPreviewMode:l}=(0,$t.usePreviewMode)(),{pageSettings:a}=(0,$t.usePageSettings)(),s=(0,e.computed)((()=>n(t.value.page_id))),c=(0,e.ref)(!1);return(0,e.provide)("masks",t.value.masks),(0,e.provide)("plugin_info",t.value.plugin_info),(0,e.provide)("editor_urls",t.value.urls),(0,e.watch)(l,(e=>{e?window.document.body.classList.add("znpb-editor-preview--active"):window.document.body.classList.remove("znpb-editor-preview--active")})),(0,i.trigger)("zionbuilder/preview/app/setup"),{element:s,showExportModal:c,getSchema:o,CSSClasses:r,isPreviewMode:l,pageSettings:a,previewAppClasses:(0,e.computed)((()=>(0,i.applyFilters)("zionbuilder/preview/app/css_classes",window.ZnPbPreviewData.preview_app_css_classes)))}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("SortableContent"),s=(0,e.resolveComponent)("PageStyles"),c=(0,e.resolveComponent)("ElementStyles");return(0,e.openBlock)(),(0,e.createBlock)("div",{class:["zb",r.previewAppClasses]},[r.element?((0,e.openBlock)(),(0,e.createBlock)(a,{key:0,class:"znpb-preview-page-wrapper",element:r.element},null,8,["element"])):(0,e.createCommentVNode)("v-if",!0),(0,e.createVNode)(s,{"css-classes":r.CSSClasses,"page-settings-model":r.pageSettings,"page-settings-schema":r.getSchema("pageSettingsSchema")},null,8,["css-classes","page-settings-model","page-settings-schema"]),(0,e.createVNode)(c,{styles:r.pageSettings._custom_css},null,8,["styles"])],2)}},er={name:"PopOver",props:{icon:{type:String,required:!1},isActive:{type:Boolean,required:!1},fullSize:{required:!1}},setup(t){const n=(0,e.ref)(null),o=(0,e.ref)({x:0,y:0,left:0}),r=(0,e.computed)((()=>{let e=[];return void 0!==t.icon&&(e.push("zn_pb_icon"),e.push(t.icon)),t.isActive&&e.push("zion-inline-editor-button--active"),e.join(" ")})),i=[{name:"flip",options:{fallbackPlacements:["top","bottom"]}}];return t.fullSize&&i.push({name:"test",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn({state:e,instance:t}){const n=e.rects.popper.width,o=e.rects.reference.width;n>=o||(e.styles.popper.width=`${o}px`,t.update())}}),(0,e.onMounted)((()=>{const e=window.document.getElementsByClassName("zion-inline-editor-container")[0];o.value=t.fullSize?e:n.value.$el})),{buttonClasses:r,modifiers:i,popperRef:o,iconElementRef:n}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("Icon"),s=(0,e.resolveComponent)("Tooltip");return(0,e.openBlock)(),(0,e.createBlock)(s,{class:"zion-inline-editor-popover-wrapper","tooltip-class":"zion-inline-editor-dropdown hg-popper--no-padding",trigger:"click",placement:"top","append-to":"element","close-on-outside-click":!0,"popper-ref":r.popperRef,modifiers:r.modifiers,"show-arrows":!1},{content:(0,e.withCtx)((()=>[(0,e.renderSlot)(t.$slots,"default")])),default:(0,e.withCtx)((()=>[(0,e.createVNode)(a,{icon:o.icon,class:r.buttonClasses,ref:"iconElementRef"},null,8,["icon","class"])])),_:1},8,["popper-ref","modifiers"])}},tr={props:["formatter","icon","buttontext","formatterValue"],setup(t){const n=(0,e.inject)("ZionInlineEditor"),o=(0,e.ref)(!1),r=(0,e.computed)((()=>{let e=[];return o.value&&e.push("zion-inline-editor-button--active"),e.join(" ")}));function i(){o.value=n.editor.formatter.match(...l())}function l(){const e=[t.formatter];return t.formatterValue&&e.push({value:t.formatterValue}),e}function a(){i()}return(0,e.onMounted)((()=>{i(),n.editor.on("SelectionChange",a)})),(0,e.onBeforeUnmount)((()=>{n.editor.off("SelectionChange",a)})),{isActive:o,classes:r,toggleFormatter:function(e){e.preventDefault(),n.editor.formatter.toggle(...l())}}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("Icon");return o.icon?((0,e.openBlock)(),(0,e.createBlock)(a,{key:0,icon:o.icon,onMousedown:r.toggleFormatter,class:r.classes},null,8,["icon","onMousedown","class"])):((0,e.openBlock)(),(0,e.createBlock)("span",{key:1,class:["zion-inline-editor-button",r.classes],onMousedown:n[1]||(n[1]=(...e)=>r.toggleFormatter&&r.toggleFormatter(...e))},(0,e.toDisplayString)(o.buttontext),35))}};const nr={class:"zion-inline-editor-panel-color"},or={class:"zion-inline-editor-button"};const rr={class:"zion-inline-editor-link-wrapper"},ir={class:"zion-inline-editor-popover__link-title"};var lr={components:{PopOver:er},props:{fullWidth:{type:Boolean,required:!1},direction:{type:String,required:!1},visible:{type:Boolean}},setup(){const t=(0,e.inject)("ZionInlineEditor"),n=(0,e.ref)(!1),o=((0,e.ref)(!1),(0,e.ref)("_self")),r=(0,e.ref)(""),i=(0,e.ref)(""),l=(0,e.ref)(!1),a=(0,e.computed)((()=>{let e=[];return l.value&&e.push("zion-inline-editor-button--active"),e.join(" ")}));function s(e){e.selectionChange&&c()}function c(){let e=t.editor.dom.getParent(t.editor.selection.getStart(),"a[href]");e?(o.value=e.target||"_self",r.value=e.getAttribute("href"),i.value=e.getAttribute("title"),l.value=!0):(r.value=null,i.value="",l.value=!1)}return(0,e.onMounted)((()=>{c(),t.editor.on("NodeChange",s)})),(0,e.onBeforeUnmount)((()=>{t.editor.off("NodeChange",s)})),{isPopOverVisible:n,linkTarget:o,linkUrl:r,linkTitle:i,selectOptions:[{id:"_self",name:"Self"},{id:"_blank",name:"New Window"}],buttonClasses:a,addLink:function(e=!0){r.value?t.editor.formatter.apply("link",{href:r.value,target:o.value,title:i.value}):t.editor.formatter.remove("link"),e&&(n.value=!1)},hasLink:l}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("Icon"),s=(0,e.resolveComponent)("BaseInput"),c=(0,e.resolveComponent)("InputWrapper"),u=(0,e.resolveComponent)("InputSelect"),d=(0,e.resolveComponent)("PopOver");return(0,e.openBlock)(),(0,e.createBlock)(d,{icon:"ite-link","full-size":!0},{default:(0,e.withCtx)((()=>[(0,e.createVNode)("div",rr,[(0,e.createVNode)(c,{title:t.$translate("add_a_link")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(s,{modelValue:r.linkUrl,"onUpdate:modelValue":n[1]||(n[1]=e=>r.linkUrl=e),clearable:!0,placeholder:"www.address.com",onKeyup:(0,e.withKeys)(r.addLink,["enter"])},{prepend:(0,e.withCtx)((()=>[(0,e.createVNode)(a,{icon:"link"})])),_:1},8,["modelValue","onKeyup"])])),_:1},8,["title"]),(0,e.createVNode)("div",ir,[(0,e.createVNode)(c,{title:t.$translate("target")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(u,{options:r.selectOptions,modelValue:r.linkTarget,"onUpdate:modelValue":n[2]||(n[2]=e=>r.linkTarget=e),placeholder:"Select target"},null,8,["options","modelValue"])])),_:1},8,["title"]),(0,e.createVNode)(c,{title:t.$translate("title")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(s,{modelValue:r.linkTitle,"onUpdate:modelValue":n[3]||(n[3]=e=>r.linkTitle=e),placeholder:"link_title",clearable:!0,onKeyup:(0,e.withKeys)(r.addLink,["enter"])},null,8,["modelValue","onKeyup"])])),_:1},8,["title"])])])])),_:1})}};const ar={class:"zion-inline-editor-group"},sr={class:"zion-inline-editor-slider-area"};const cr={class:"zion-inline-editor-slider-area"};const ur={class:"zion-inline-editor-slider-area"};const dr={class:" "},pr={class:"zion-inline-editor__font-panel znpb-fancy-scrollbar"};var mr={name:"InlineEditor",components:{InlineEditorButton:tr,ColorPicker:{setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),r=(0,e.ref)(null);let i=!1,l=null;function a(e){i||s()}function s(){r.value=o.editor.queryCommandValue("forecolor")}return(0,e.onMounted)((()=>{s(),o.editor.on("NodeChange",a)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("NodeChange",a)})),{color:r,onColorChange:function(e){r.value=e,o.editor.formatter.apply("forecolor",{value:e}),clearTimeout(l),l=setTimeout((()=>{i=!1}),500),i=!0}}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("InputColorPicker");return(0,e.openBlock)(),(0,e.createBlock)("div",nr,[(0,e.createVNode)("div",or,[(0,e.createVNode)(a,{modelValue:r.color,"onUpdate:modelValue":r.onColorChange,"show-library":!1,onOpen:n[1]||(n[1]=e=>t.$emit("open-color-picker",!0)),onClose:n[2]||(n[2]=e=>t.$emit("close-color-picker",!1)),type:"simple"},null,8,["modelValue","onUpdate:modelValue"])])])}},FontWeight:{props:["modelValue"],components:{PopOver:er,InlineEditorButton:tr},setup(t){const n=(0,e.inject)("ZionInlineEditor"),o=(0,e.ref)(!1),r=[100,200,300,400,500,600,700,800,900],i=(0,e.computed)((()=>{let e=[];return o.value&&e.push("zion-inline-editor-button--active"),e.join(" ")}));function l(){o.value=r.some((e=>n.editor.formatter.match("fontWeight",{value:e})))}return(0,e.onBeforeMount)((()=>{l(),n.editor.on("NodeChange",l)})),(0,e.onBeforeUnmount)((()=>{n.editor.off("NodeChange",l)})),{isActive:o,classes:i,fontWeights:r}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("InlineEditorButton"),s=(0,e.resolveComponent)("PopOver");return(0,e.openBlock)(),(0,e.createBlock)(s,{icon:"ite-weight","is-active":r.isActive,"full-size":!0},{default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(r.fontWeights,(t=>((0,e.openBlock)(),(0,e.createBlock)(a,{key:t,formatter:"fontWeight","formatter-value":t,buttontext:t},null,8,["formatter-value","buttontext"])))),128))])),_:1},8,["is-active"])}},PopOver:er,PanelLink:lr,TextAlign:{name:"TextAlign",components:{InlineEditorButton:tr,PopOver:er},setup(t){const n=(0,e.inject)("ZionInlineEditor"),o=(0,e.ref)(!1);function r(){o.value=n.editor.formatter.matchAll(["alignleft","aligncenter","alignright","alignjustify"]).length>0}return(0,e.onBeforeMount)((()=>{r(),n.editor.on("NodeChange",r)})),(0,e.onBeforeUnmount)((()=>{n.editor.off("NodeChange",r)})),{isActive:o,buttons:[{formatter:"alignleft",icon:"align--left"},{formatter:"aligncenter",icon:"align--center"},{formatter:"alignright",icon:"align--right"},{formatter:"alignjustify",icon:"align--justify"}]}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("InlineEditorButton"),s=(0,e.resolveComponent)("PopOver");return(0,e.openBlock)(),(0,e.createBlock)(s,{icon:"ite-alignment","is-active":r.isActive},{default:(0,e.withCtx)((()=>[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(r.buttons,(t=>((0,e.openBlock)(),(0,e.createBlock)(a,{key:t.formatter,formatter:t.formatter,icon:t.icon},null,8,["formatter","icon"])))),128))])),_:1},8,["is-active"])}},FontStyle:{name:"FontStyles",components:{"zion-inline-editor-font-size":{setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),r=(0,e.ref)(!1),i=(0,e.ref)(null),l=(0,e.ref)(null);let a=null,s=!1;function c(e){s||u()}function u(){i.value=o.editor.queryCommandValue("FontSize")}return(0,e.onMounted)((()=>{u(),o.editor.on("SelectionChange",c)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("SelectionChange",c)})),{unitsExpanded:r,options:[{unit:"px",min:6,max:300,step:1,shiftStep:5},{unit:"%",min:1,max:100,step:1,shiftStep:5},{unit:"rem",min:1,max:6,step:1,shiftStep:1},{unit:"pt",min:1,max:60,step:1,shiftStep:1},{unit:"vh",min:1,max:100,step:5,shiftStep:1}],sliderValue:i,onClick:function(e){n("units-expanded",l.value?l.value.$refs.InputNumberUnit.expanded:null)},onFontChange:function(e){o.editor.formatter.apply("fontsize",{value:e}),i.value=e,n("started-dragging"),n("units-expanded",l.value?l.value.$refs.InputNumberUnit.expanded:null),l.value.$refs.InputNumberUnit.$refs.numberUnitInput.$refs.input.focus(),clearTimeout(a),a=setTimeout((()=>{s=!1}),100),s=!0},inputRangeDynamicRef:l}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("InputRangeDynamic");return(0,e.openBlock)(),(0,e.createBlock)("div",sr,[(0,e.createVNode)(a,{"onUpdate:modelValue":r.onFontChange,modelValue:r.sliderValue,options:r.options,onClick:(0,e.withModifiers)(r.onClick,["stop"]),class:"zion-inline-editor-slider-area--slider",ref:"inputRangeDynamicRef"},null,8,["onUpdate:modelValue","modelValue","options","onClick"])])}},"zion-inline-editor-line-height":{setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),r=(0,e.ref)(!1),i=(0,e.ref)(null),l=(0,e.ref)(null);let a=null,s=!1;function c(e){s||u()}function u(){i.value=window.getComputedStyle(o.editor.selection.getNode()).getPropertyValue("line-height")}return(0,e.onMounted)((()=>{o.editor.formatter.register("lineHeight",{selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",styles:{"line-height":"%value"}}),u(),o.editor.on("SelectionChange",c)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("SelectionChange",c)})),{unitsExpanded:r,options:[{unit:"px",min:1,max:400,step:1,shiftStep:5},{unit:"em",min:1,max:100,step:1,shiftStep:5},{unit:"%",min:1,max:100,step:1,shiftStep:5},{unit:"normal",min:null,max:null,step:null,shiftStep:null}],sliderValue:i,onClick:function(e){n("units-expanded",l.value?l.value.$refs.InputNumberUnit.expanded:null)},inputRangeDynamicRef:l,onHeightChange:function(e){o.editor.formatter.apply("lineHeight",{value:e}),i.value=e,n("started-dragging"),n("units-expanded",l.value?l.value.$refs.InputNumberUnit.expanded:null),l.value.$refs.InputNumberUnit.$refs.numberUnitInput.$refs.input.focus(),clearTimeout(a),a=setTimeout((()=>{s=!1}),100),s=!0}}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("InputRangeDynamic");return(0,e.openBlock)(),(0,e.createBlock)("div",cr,[(0,e.createVNode)(a,{"onUpdate:modelValue":r.onHeightChange,modelValue:r.sliderValue,options:r.options,class:"zion-inline-editor-slider-area--slider",ref:"inputRangeDynamicRef"},null,8,["onUpdate:modelValue","modelValue","options"])])}},"zion-inline-editor-letter-spacing":{setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),r=(0,e.ref)(null),i=(0,e.ref)(null);let l=!1,a=null;function s(e){l||c()}function c(){let e=window.getComputedStyle(o.editor.selection.getNode()).getPropertyValue("letter-spacing");r.value=e}return(0,e.onMounted)((()=>{o.editor.formatter.register("letterSpacing",{selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",styles:{"letter-spacing":"%value"}}),c(),o.editor.on("SelectionChange",s)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("SelectionChange",s)})),{onLetterChange:function(e){o.editor.formatter.apply("letterSpacing",{value:e}),r.value=e,n("started-dragging"),n("units-expanded",i.value?i.value.$refs.InputNumberUnit.expanded:null),i.value.$refs.InputNumberUnit.$refs.numberUnitInput.$refs.input.focus(),clearTimeout(a),a=setTimeout((()=>{l=!1}),100),l=!0},sliderValue:r,options:[{unit:"px",min:0,max:300,step:1,shiftStep:5},{unit:"rem",min:1,max:10,step:1,shiftStep:1},{unit:"normal",min:null,max:null,step:null,shiftStep:null}],onClick:function(e){n("units-expanded",i.value?i.value.$refs.InputNumberUnit.expanded:null)},inputRangeDynamicRef:i}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("InputRangeDynamic");return(0,e.openBlock)(),(0,e.createBlock)("div",ur,[(0,e.createVNode)(a,{"onUpdate:modelValue":r.onLetterChange,modelValue:r.sliderValue,options:r.options,onClick:(0,e.withModifiers)(r.onClick,["stop"]),class:"zion-inline-editor-slider-area--slider",ref:"inputRangeDynamicRef"},null,8,["onUpdate:modelValue","modelValue","options","onClick"])])}},"zion-inline-editor-button":tr,FontList:{setup(t,{emit:n}){const o=(0,e.inject)("ZionInlineEditor"),{fontsListForOption:r}=(0,Nt.useDataSets)(),i=(0,e.ref)(null);function l(e){a()}function a(){i.value=o.editor.queryCommandValue("fontname")}return(0,e.onMounted)((()=>{a(),o.editor.on("SelectionChange",l)})),(0,e.onBeforeUnmount)((()=>{o.editor.off("SelectionChange",l)})),{fontsListForOption:r,isActive:function(e){return i.value===e?"zion-inline-editor__font-list-item--active":""},changeFont:function(e,t){i.value=e,o.editor.formatter.toggle("fontname",{value:e})}}},render:function(t,n,o,r,i,l){return(0,e.openBlock)(),(0,e.createBlock)("div",dr,[(0,e.createVNode)("ul",pr,[((0,e.openBlock)(!0),(0,e.createBlock)(e.Fragment,null,(0,e.renderList)(r.fontsListForOption,((t,n)=>((0,e.openBlock)(),(0,e.createBlock)("li",{key:n,onClick:e=>r.changeFont(t.id,e),class:["zion-inline-editor__font-list-item",{"zion-inline-editor__font-list-item--active":r.isActive(t.id)}]},(0,e.toDisplayString)(t.name),11,["onClick"])))),128))])])}},PopOver:er},setup(){const t=(0,e.ref)(!1),n=(0,e.computed)((()=>{let e=[];return t.value&&e.push("zion-inline-editor-button--active"),e.join(" ")}));return{isOpen:t,buttonClasses:n}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("FontList"),s=(0,e.resolveComponent)("Tab"),c=(0,e.resolveComponent)("zion-inline-editor-button"),u=(0,e.resolveComponent)("zion-inline-editor-font-size"),d=(0,e.resolveComponent)("zion-inline-editor-line-height"),p=(0,e.resolveComponent)("zion-inline-editor-letter-spacing"),m=(0,e.resolveComponent)("Tabs"),f=(0,e.resolveComponent)("PopOver");return(0,e.openBlock)(),(0,e.createBlock)(f,{icon:"ite-font","full-size":!0},{default:(0,e.withCtx)((()=>[(0,e.createVNode)("div",ar,[(0,e.createVNode)(m,{"tab-style":"minimal"},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(s,{name:t.$translate("family")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(a)])),_:1},8,["name"]),(0,e.createVNode)(s,{name:t.$translate("heading"),class:"zion-inline-editor-group__heading"},{default:(0,e.withCtx)((()=>[(0,e.createVNode)("div",null,[(0,e.createVNode)(c,{formatter:"h1",buttontext:"H1"}),(0,e.createVNode)(c,{formatter:"h2",buttontext:"H2"}),(0,e.createVNode)(c,{formatter:"h3",buttontext:"H3"}),(0,e.createVNode)(c,{formatter:"h4",buttontext:"H4"}),(0,e.createVNode)(c,{formatter:"h5",buttontext:"H5"}),(0,e.createVNode)(c,{formatter:"h6",buttontext:"H6"})])])),_:1},8,["name"]),(0,e.createVNode)(s,{name:t.$translate("font_size")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(u)])),_:1},8,["name"]),(0,e.createVNode)(s,{name:t.$translate("line_height")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(d)])),_:1},8,["name"]),(0,e.createVNode)(s,{name:t.$translate("letter_spacing")},{default:(0,e.withCtx)((()=>[(0,e.createVNode)(p)])),_:1},8,["name"])])),_:1})])])),_:1})}}},props:{modelValue:{type:String,required:!1},forcedRootNode:{type:[Boolean,String],default:""}},setup(t,{emit:n}){let o={editor:null};const{isPreviewMode:r}=(0,$t.usePreviewMode)(),{modelValue:i}=(0,e.toRefs)(t),l=(0,e.ref)(null),a=(0,e.ref)(null),s=(0,e.ref)(!1),c=(0,e.ref)(!1),u=(0,e.ref)(!1),d=(0,e.ref)(!0),p=(0,e.ref)(!1),m=(0,e.ref)(!1),f=(0,e.ref)({}),h=(0,e.ref)(0),g=(0,e.ref)(0),v=(0,e.ref)(0),b=(0,e.ref)({offsetY:75,offsetX:null,posX:null,posY:null});(0,e.provide)("ZionInlineEditor",o);const y=(0,e.computed)((()=>({transform:`translate(${b.value.posX}px, ${b.value.posY}px)`})));function w(){n("update:modelValue",o.editor.getContent())}function _(){setTimeout((()=>{m.value=!1}),300)}function C(e){b.value={posX:h.value+e.pageX-f.value.posX,posY:g.value+e.pageY-f.value.posY-v.value}}function S(e){h.value=b.value.posX,g.value=b.value.posY,d.value=!function(){let e=function(){if(a.value)return a.value.getBoundingClientRect()}();if(e)return e.x<40}(),document.body.style.userSelect=null,window.removeEventListener("mouseup",S),window.removeEventListener("mousemove",C),u.value=!1}function k(e){27===e.keyCode&&(x(),e.stopImmediatePropagation())}function x(){c.value=!1}return(0,e.watch)(c,(e=>{e?setTimeout((()=>{document.addEventListener("keydown",k,!0),document.addEventListener("scroll",x)}),10):(document.removeEventListener("keydown",k,!0),document.removeEventListener("scroll",x,!0))})),(0,e.onMounted)((()=>{void 0!==window.tinyMCE&&window.tinyMCE.init({target:l.value,entity_encoding:"raw",toolbar:!1,menubar:!1,selection_toolbar:!1,inline:!0,object_resizing:!1,setup:n=>{n.on("init",(r=>{s.value=!0,o.editor=n,n.setContent(t.modelValue),(0,e.watch)(i,((e,t)=>{o.editor&&"string"==typeof e&&e!==t&&e!==o.editor.getContent()&&o.editor.setContent(e)}))})),n.on("change input undo redo",w)},forced_root_block:"",formats:{fontSize:{selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"znpb-fontsize",styles:{fontSize:"%value"}},fontWeight:{inline:"span",selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"znpb-fontweight",styles:{fontWeight:"%value"}},uppercase:{selector:"span,p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",classes:"znpb-uppercase",styles:{textTransform:"uppercase"}},blockquote:{block:"blockquote",wrapper:!0,classes:"znpb-blockquote",exact:!0},italic:{inline:"i",exact:!0}}})})),(0,e.onBeforeUnmount)((()=>{void 0!==window.tinyMCE&&o.editor&&window.tinyMCE.remove(o.editor)})),{isPreviewMode:r,inlineEditorRef:l,tooltipContentRef:a,showEditor:c,tinyMceReady:s,isDragging:u,dragButtonOnScreen:d,barStyles:y,onColorPickerOpen:function(){l.value.classList.add("mce-content-body--selection-transparent")},onColorPickerClose:function(){l.value.classList.remove("mce-content-body--selection-transparent")},onUnitsExpanded:function(e){p.value=e},onStartedSliderDragging:function(){document.addEventListener("mouseup",_),m.value=!0},startDrag:function(e){window.addEventListener("mouseup",S),window.addEventListener("mousemove",C),document.body.style.userSelect="none",f.value={posX:e.clientX,posY:e.clientY},u.value=!0,v.value=window.pageYOffset},checkTextSelection:function(){window.getSelection().toString().length>0&&(c.value=!0)}}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("Icon"),s=(0,e.resolveComponent)("FontStyle"),c=(0,e.resolveComponent)("FontWeight"),u=(0,e.resolveComponent)("InlineEditorButton"),d=(0,e.resolveComponent)("PanelLink"),p=(0,e.resolveComponent)("ColorPicker"),m=(0,e.resolveComponent)("TextAlign"),f=(0,e.resolveComponent)("Tooltip");return(0,e.openBlock)(),(0,e.createBlock)(f,{class:"znpb-inline-editor__wrapper_all","tooltip-class":"znpb-inline-editor__wrapper hg-popper--no-padding hg-popper--no-bg",trigger:null,placement:"top","append-to":"body","show-arrows":!1,show:r.showEditor,onHide:n[7]||(n[7]=e=>r.showEditor=!1),strategy:"fixed","close-on-outside-click":!0,"hide-on-escape":!0,ref:"inlineEditorWrapper"},{content:(0,e.withCtx)((()=>[!r.isPreviewMode&&r.tinyMceReady?((0,e.openBlock)(),(0,e.createBlock)("div",{key:0,class:["zion-inline-editor zion-inline-editor-container",{"zion-inline-editor--dragging":r.isDragging}],style:r.barStyles,ref:"tooltipContentRef",onMousedown:n[3]||(n[3]=(0,e.withModifiers)((()=>{}),["stop"]))},[(0,e.createCommentVNode)("Normally positioned drag button"),r.dragButtonOnScreen?((0,e.openBlock)(),(0,e.createBlock)("div",{key:0,class:"zion-inline-editor-dragbutton",ref:"dragButton",onMousedown:n[1]||(n[1]=(0,e.withModifiers)(((...e)=>r.startDrag&&r.startDrag(...e)),["stop"]))},[(0,e.createVNode)(a,{icon:"ite-move"})],544)):(0,e.createCommentVNode)("v-if",!0),(0,e.createCommentVNode)(" Fonts & text style panel "),(0,e.createVNode)(s),(0,e.createCommentVNode)(" Bold popover "),(0,e.createVNode)(c),(0,e.createCommentVNode)(" Italic button "),(0,e.createVNode)(u,{formatter:"italic",icon:"ite-italic"}),(0,e.createCommentVNode)(" Underline button "),(0,e.createVNode)(u,{formatter:"underline",icon:"ite-underline"}),(0,e.createCommentVNode)(" Uppercase button "),(0,e.createVNode)(u,{formatter:"uppercase",icon:"ite-uppercase"}),(0,e.createCommentVNode)(" Link button "),(0,e.createVNode)(d),(0,e.createCommentVNode)(" Quote button "),(0,e.createVNode)(u,{formatter:"blockquote",icon:"ite-quote"}),(0,e.createCommentVNode)(" Color Picker "),(0,e.createVNode)(p,{onCloseColorPicker:r.onColorPickerClose,onOpenColorPicker:r.onColorPickerOpen},null,8,["onCloseColorPicker","onOpenColorPicker"]),(0,e.createCommentVNode)(" Text align button "),(0,e.createVNode)(m),(0,e.createCommentVNode)("Alternatively positioned drag button (if the normal one is out of bounds)"),r.dragButtonOnScreen?(0,e.createCommentVNode)("v-if",!0):((0,e.openBlock)(),(0,e.createBlock)("div",{key:1,class:"zion-inline-editor-dragbutton",onMousedown:n[2]||(n[2]=(0,e.withModifiers)(((...e)=>r.startDrag&&r.startDrag(...e)),["stop"]))},[(0,e.createVNode)(a,{icon:"more",rotate:90})],32))],38)):(0,e.createCommentVNode)("v-if",!0)])),default:(0,e.withCtx)((()=>[(0,e.createVNode)("div",{ref:"inlineEditorRef",class:["znpb-inline-text-editor",{"znpb-inline-text-editor--preview":r.isPreviewMode}],onMouseup:n[4]||(n[4]=(...e)=>r.checkTextSelection&&r.checkTextSelection(...e)),onDblclick:n[5]||(n[5]=(0,e.withModifiers)((e=>r.showEditor=!0),["stop"])),onKeydown:n[6]||(n[6]=(0,e.withModifiers)((()=>{}),["stop"])),contenteditable:!r.isPreviewMode},null,42,["contenteditable"])])),_:1},8,["show"])}},fr={name:"RenderValue",inheritAttrs:!1,props:{option:{type:String,required:!0},htmlTag:{type:String,required:!1,default:"span"}},setup(t){const n=(0,e.inject)("elementInfo"),o=(0,e.inject)("elementOptions"),i=(0,e.computed)((()=>n.elementTypeModel.options)),l=(0,e.computed)((()=>a.value.type)),a=(0,e.computed)((()=>{const e=t.option.split(".");let n=i.value;const o=e.length;let r=null;return e.forEach(((e,t)=>{t+1===o?r=n[e]:n[e]?n=n[e]:console.error(`schema could not be found for ${this.option}`)})),r})),s=(0,e.computed)((()=>{const e=t.option.split(".");let o=n.options;const r=e.length;let i=!1;return e.forEach(((n,l)=>{if(l===r-1){if("object"==typeof o.__dynamic_content__){const t=e[e.length-1];i=o.__dynamic_content__[t]}}else o[n]?o=o[n]:console.error(`model could not be found for ${t.option}`)})),i})),c=(0,e.computed)((()=>"editor"!==l.value||s.value?s.value?"dynamic_html":"icon_library"===l.value?"icon":"image"===l.value?"image":"default":n.isDisabled?"dynamic_html":"editor")),u=(0,e.computed)({get(){const e=a.value;return(0,r.getOptionValue)(o.value,t.option,e.default)},set(e){n.updateOptionValue(t.option,e)}});return{elementInfo:n,elementOptions:o,renderType:c,optionValue:u}},render:function(t,n,o,r,i,l){const a=(0,e.resolveComponent)("InlineEditor"),s=(0,e.resolveComponent)("ElementIcon");return"editor"===r.renderType?((0,e.openBlock)(),(0,e.createBlock)(a,(0,e.mergeProps)({key:0,modelValue:r.optionValue,"onUpdate:modelValue":n[1]||(n[1]=e=>r.optionValue=e)},t.$attrs),null,16,["modelValue"])):"dynamic_html"===r.renderType?((0,e.openBlock)(),(0,e.createBlock)("span",(0,e.mergeProps)({key:1,innerHTML:r.optionValue},t.$attrs),null,16,["innerHTML"])):"icon"===r.renderType?((0,e.openBlock)(),(0,e.createBlock)(s,(0,e.mergeProps)({key:2,iconConfig:r.optionValue},t.$attrs),null,16,["iconConfig"])):"image"===r.renderType?((0,e.openBlock)(),(0,e.createBlock)("img",(0,e.mergeProps)({key:3,src:r.optionValue},t.$attrs),null,16,["src"])):((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(o.htmlTag),(0,e.mergeProps)({key:4},t.$attrs),{default:(0,e.withCtx)((()=>[(0,e.createTextVNode)((0,e.toDisplayString)(r.optionValue),1)])),_:1},16))}},hr={name:"ElementIcon",props:{iconConfig:{type:Object,required:!1,default:()=>({family:"Font Awesome 5 Brands Regular",name:"wordpress-simple",unicode:"uf411"})}},setup:t=>({iconUnicode:(0,e.computed)((()=>JSON.parse(`"\\${t.iconConfig.unicode}"`).trim()))}),render:function(t,n,o,r,i,l){return o.iconConfig?((0,e.openBlock)(),(0,e.createBlock)("span",{key:0,"data-znpbiconfam":o.iconConfig.family,"data-znpbicon":r.iconUnicode},null,8,["data-znpbiconfam","data-znpbicon"])):(0,e.createCommentVNode)("v-if",!0)}};const gr=(0,e.createVNode)(Qo),vr=window.parent.zb.editor.appInstance,br=vr._context;vr.component("Element",Jo),vr.component("ElementWrapper",Ko),vr.component("InlineEditor",mr),vr.component("SortableContent",Go),vr.component("RenderValue",fr),vr.component("ElementIcon",hr),gr.appContext=br;const{editorData:yr}=(0,$t.useEditorData)(),wr=document.getElementById(`znpb-preview-${yr.value.page_id}-area`);wr&&(0,e.render)(gr,wr),window.addEventListener("beforeunload",(()=>{wr&&(0,e.render)(null,wr)}))}(),(window.zb=window.zb||{}).preview=o}();