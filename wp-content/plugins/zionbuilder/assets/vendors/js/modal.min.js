/**
 * @zionbuilder/modalJS v1.0.0 - MIT License
 */

"use strict";!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).ModalJS={})}(this,(function(e){function n(e=null){return null===e?o[o.length-1]:o.find((n=>n.selector=e))}let o=[],t=[{name:"pageLoad",fn:function(e,n){let o={delay:0,...n};window.addEventListener("load",(function(){setTimeout((()=>{e.open()}),o.delay)}))}},{name:"pageScroll",fn:function(e,n){let o={scrollAmmount:0,direction:"down",...n},t=0,l=0,i=0;window.addEventListener("load",(function(){l=document.body.clientHeight,i=window.innerHeight})),window.addEventListener("scroll",(function n(c){c=l*o.scrollAmmount/100;let r=window.scrollY>t;"down"===o.direction&&r&&window.scrollY+i>=c?(e.open(),window.removeEventListener("scroll",n,!1)):"up"!==o.direction||r||(e.open(),window.removeEventListener("scroll",n,!1)),t=window.scrollY}),!1)}},{name:"click",fn:function(e,n){let o={clicks:1,...n},t=1;document.addEventListener("click",(function n(){t>=o.clicks&&(e.open(),document.removeEventListener("click",n)),t++}))}},{name:"exitIntent",fn:function(e,n){function o(){i=null,c=0}let t,l,i=null,c=0,r=0;/Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?document.addEventListener("scroll",(function n(d){d=window.scrollY>r,r=t=window.scrollY,(d=!d)&&(null!=i&&(c=t-i),i=t,clearTimeout(l),l=setTimeout(o,50),d=-100>=c),d&&(e.open(),document.removeEventListener("scroll",n))})):document.addEventListener("mouseout",(function n(o){!o.toElement&&!o.relatedTarget&&10>o.clientY&&(e.open(),document.removeEventListener("mouseout",n))}))}},{name:"selector_click",fn:function(e,n){(n={selector:null,...n}).selector&&(0!==(n=document.querySelectorAll(n.selector)).length&&n.forEach((n=>{n.addEventListener("click",e.open)})))}}];e.closeModal=function(e=null){(e=n(e))&&e.close()},e.createModal=function(e,n={}){function l(){e.classList.remove("zb-modal--open")}function i(n){n.target===e&&l()}let c;return(n={triggers:[],closeOnBackdropClick:!0,...n}).closeOnBackdropClick&&e.addEventListener("click",i),c={open:function(){e.classList.add("zb-modal--open")},close:l,destroy:function(){n.closeOnBackdropClick&&e.removeEventListener("click",i)},selector:e},n.triggers&&n.triggers.forEach((e=>{let{type:n,fn:o,options:l}=e;"function"==typeof o?o(c,l):(e=t.find((e=>e.name===n)))&&(({fn:e}=e),e(c,l))})),o.push(c),c},e.getModalInstance=n,e.openModal=function(e=null){(e=n(e))&&e.open()},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
